(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-b7456cbe"],{"365c":function(e,a,t){"use strict";var n=t("be3b"),o=t("99b1"),i=t.n(o),r={aip:function(e){return n["a"].post(i.a.Aip,e)},delAip:function(e){return n["a"].del(i.a.Aip,{id:e})},aips:function(e,a){return n["a"].get(i.a.Aips,{page:e,limit:a})},apk:function(e){return n["a"].post(i.a.Apk,e)},apks:function(e,a){return n["a"].get(i.a.Apks,{page:e,limit:a})},apkVersion:function(e){return n["a"].post(i.a.ApkVersion,e)},apkVersions:function(e,a,t){return n["a"].get(i.a.ApkVersions,{page:e,limit:a,apk_id:t})},_apkVersions:function(e){return n["a"].get(i.a.ApkVersions,{id:e})},publishApk:function(e){return n["a"].post(i.a.PublishApk,e)},project:function(e){return n["a"].post(i.a.Project,e)},projects:function(e,a){return n["a"].get(i.a.Projects,{page:e,limit:a})},address:function(e){return n["a"].post(i.a.Address,e)},getaddress:function(e){return n["a"].get(i.a.Address,{id:e})},addresses:function(e,a,t,o,r){return n["a"].get(i.a.Addresses,{page:e,limit:a,project_id:t,area_id:o,address:r})},addressTypes:function(e,a){return n["a"].get(i.a.AddressTypes,{page:e,limit:a})},face:function(e){return n["a"].post(i.a.Face,e)},faces:function(e,a,t){return n["a"].get(i.a.Faces,{page:e,limit:a,name:t})},pushRecords:function(e,a,t){return n["a"].get(i.a.PushRecords,{page:e,limit:a,name:t})},pushRecordCommands:function(e){return n["a"].get(i.a.PushRecordCommands,{id:e})},againPush:function(e){return n["a"].post(i.a.PushRecord,e)},areas:function(e,a,t){return n["a"].get(i.a.Areas,{page:e,limit:a,parent_id:t})},area:function(e){return n["a"].post(i.a.Area,e)},device:function(e){return n["a"].post(i.a.Device,e)},_device:function(e){return n["a"].get(i.a.Device,{uuid:e})},devices:function(e,a,t,o,r,s){return n["a"].get(i.a.Devices,{page:e,limit:a,type:t,uuid:o,area_id:r,address_id:s})},_devices:function(e,a,t){return n["a"].get(i.a.Devices,{direction:e,addresses:a,limit:t})},deviceLogs:function(e,a,t,o){return n["a"].get(i.a.DeviceLogs,{page:e,limit:a,uuid:t,type:o})},deviceFaceLogs:function(e,a,t,o,r,s){return n["a"].get(i.a.DeviceRecord,{page:e,limit:a,uuid:t,name:o,area_id:r,address_id:s})},deviceTypes:function(){return n["a"].get(i.a.DeviceTypes)},deviceHeart:function(e){return n["a"].get(i.a.DeviceHeartbeat,{uuid:e})},deviceCommands:function(e,a,t){return n["a"].get(i.a.DeviceCommands,{page:e,limit:a,uuid:t})},commandsType:function(e){return n["a"].get(i.a.Commands,{type:e})},sendDeviceCommand:function(e){return n["a"].post(i.a.SendDeviceCommand,e)},deviceUserList:function(e,a,t){return n["a"].get(i.a.DeviceUserList,{page:e,limit:a,uuid:t})},faceGroup:function(e){return n["a"].get(i.a.FaceGroup,{address_id:e})},uuid:function(e,a){return n["a"].get(i.a.Uuid,{page:e,limit:a})},dangerFace:function(e){return n["a"].post(i.a.DangerFace,e)},delDangerFace:function(e){return n["a"].del(i.a.DelDangerFace,{id:e})},dangerFaces:function(e,a){return n["a"].get(i.a.DangerFaces,{page:e,limit:a})},dangerLogs:function(e,a){return n["a"].get(i.a.DangerLogs,{page:e,limit:a})},roles:function(e,a){return n["a"].get(i.a.Roles,{page:e,limit:a})},oneRole:function(e){return n["a"].get(i.a.Role,{name:e})},role:function(e){return n["a"].post(i.a.Role,e)},users:function(e,a){return n["a"].get(i.a.Users,{page:e,limit:a})},user:function(e){return n["a"].post(i.a.User,e)},policeStation:function(e){return n["a"].post(i.a.PoliceStation,e)},policeStations:function(e,a,t){return n["a"].get(i.a.PoliceStations,{page:e,limit:a,name:t})},information:function(e){return n["a"].post(i.a.Information,e)},informations:function(e,a,t,o){return n["a"].get(i.a.Information,{page:e,limit:a,id:t,title:o})},faceSwitch:function(e){return n["a"].post(i.a.FaceSwicth,e)},delFaceSwitch:function(e){return n["a"].del(i.a.FaceSwicth,{id:e})},faceSwitches:function(e,a){return n["a"].get(i.a.FaceSwicthes,{page:e,limit:a})}};a["a"]=r},"77f0":function(e,a,t){"use strict";var n=t("f239"),o=t.n(n);o.a},ac3a:function(e,a,t){"use strict";t.r(a);var n=function(){var e=this,a=e.$createElement,t=e._self._c||a;return t("div",{directives:[{name:"loading",rawName:"v-loading",value:e.loading,expression:"loading"}],attrs:{"element-loading-text":"获取数据中"}},[t("div",{staticClass:"handle-box"},[t("div",{staticClass:"btn"},[t("el-button",{attrs:{type:"primary"},on:{click:e.addDevice}},[e._v("添加设备")])],1),t("div",{staticClass:"btn"},[t("el-input",{staticClass:"input-with-select",attrs:{placeholder:"输入设备号"},nativeOn:{keyup:function(a){return!a.type.indexOf("key")&&e._k(a.keyCode,"enter",13,a.key,"Enter")?null:e.search(e.uuid)}},model:{value:e.uuid,callback:function(a){e.uuid=a},expression:"uuid"}},[t("el-button",{attrs:{slot:"append",icon:"el-icon-search"},on:{click:function(a){return e.search(e.uuid)}},slot:"append"})],1)],1),t("div",{staticClass:"btn"},[t("el-select",{attrs:{placeholder:"请选择类型"},on:{change:e.typeChange},model:{value:e.type,callback:function(a){e.type=a},expression:"type"}},e._l(e.typeList,(function(a,n){return t("el-option",{key:n,attrs:{label:e.typeList[n],value:n}})})),1)],1),t("div",{staticClass:"btn"},[t("el-cascader",{attrs:{placeholder:"请选择省市区",options:e.cascaderData,props:e.props},on:{change:e.proChange},model:{value:e.pro_city_area,callback:function(a){e.pro_city_area=a},expression:"pro_city_area"}})],1),t("div",{staticClass:"btn"},[t("el-select",{attrs:{placeholder:"请选择地址",filterable:""},on:{change:e.areaAddressChange},model:{value:e.area_address_id,callback:function(a){e.area_address_id=a},expression:"area_address_id"}},e._l(e.area_address_List,(function(e,a){return t("el-option",{key:a,attrs:{label:e.address,value:e.id}})})),1)],1)]),t("el-dialog",{attrs:{title:"添加设备",visible:e.dialogDevice},on:{"update:visible":function(a){e.dialogDevice=a}}},[t("div",{staticClass:"box"},[t("el-form",{attrs:{model:e.form,"label-width":"100px"}},[t("el-form-item",{attrs:{label:"设备名称"}},[t("el-input",{model:{value:e.form.name,callback:function(a){e.$set(e.form,"name",a)},expression:"form.name"}})],1),t("el-form-item",{attrs:{label:"类型"}},[t("el-select",{attrs:{placeholder:"请选择类型"},on:{change:e.faceTypeChange},model:{value:e.face_type,callback:function(a){e.face_type=a},expression:"face_type"}},e._l(e.typeList,(function(a,n){return t("el-option",{key:n,attrs:{label:e.typeList[n],value:n}})})),1)],1),t("el-form-item",{attrs:{label:"选择项目"}},[t("el-select",{attrs:{placeholder:"请选择项目"},on:{change:e.changeProject},model:{value:e.face_project,callback:function(a){e.face_project=a},expression:"face_project"}},e._l(e.projectList,(function(e,a){return t("el-option",{key:a,attrs:{label:e.name,value:e.id}})})),1)],1),t("el-form-item",{attrs:{label:"选择地址"}},[t("el-select",{attrs:{placeholder:"请选择地址"},on:{change:e.addressChange},model:{value:e.face_address,callback:function(a){e.face_address=a},expression:"face_address"}},e._l(e.addressList,(function(e){return t("el-option",{key:e.id,attrs:{label:e.address,value:e.id}})})),1)],1),e.face_address?t("div",[t("el-form-item",{attrs:{label:"选择人脸组"}},[t("el-checkbox",{on:{change:e.handleCheckAllChange},model:{value:e.checkAll,callback:function(a){e.checkAll=a},expression:"checkAll"}},[e._v("全选")]),t("div",{staticClass:"facebox"},[t("el-checkbox-group",{staticClass:"facebox-item",model:{value:e.form.face_groups,callback:function(a){e.$set(e.form,"face_groups",a)},expression:"form.face_groups"}},e._l(e.faceGroupList,(function(a,n){return t("div",{key:n},[t("el-checkbox",{attrs:{label:a.group_name},on:{change:e.checkOneChange}},[e._v(e._s(a.group_name))])],1)})),0)],1)],1)],1):e._e(),t("el-form-item",{attrs:{label:"选择uuid"}},[t("el-select",{attrs:{placeholder:"请选择uuid",disabled:e.uuidDisabled},model:{value:e.form.uuid,callback:function(a){e.$set(e.form,"uuid",a)},expression:"form.uuid"}},e._l(e.uuidList,(function(e){return t("el-option",{key:e.id,attrs:{label:e.uuid,value:e.uuid}})})),1),t("span",{staticStyle:{"margin-left":"10px"}},[t("el-button",{attrs:{size:"medium",type:"primary"},on:{click:e.referUUID}},[e._v("刷新UUID")])],1)],1),t("el-form-item",{attrs:{label:"选择安装包"}},[t("el-select",{attrs:{placeholder:"请选择安装包"},on:{change:e.apkChange},model:{value:e.face_apk,callback:function(a){e.face_apk=a},expression:"face_apk"}},e._l(e.apkList,(function(e){return t("el-option",{key:e.id,attrs:{label:e.name,value:e.id}})})),1)],1),t("el-form-item",{attrs:{label:"安装包版本"}},[t("el-select",{attrs:{placeholder:"请选择版本"},model:{value:e.face_apk_version,callback:function(a){e.face_apk_version=a},expression:"face_apk_version"}},e._l(e.versionList,(function(e){return t("el-option",{key:e.id,attrs:{label:e.version,value:e.id}})})),1)],1),t("el-form-item",{attrs:{label:"配置热感"}},[t("el-radio-group",{model:{value:e.hotness,callback:function(a){e.hotness=a},expression:"hotness"}},[t("el-radio",{attrs:{label:1}},[e._v("正常")]),t("el-radio",{attrs:{label:2}},[e._v("严格")]),t("el-radio",{attrs:{label:3}},[e._v("关闭")])],1)],1),t("el-form-item",{attrs:{label:"选择方向"}},[t("el-select",{attrs:{placeholder:"请选择地址"},model:{value:e.form.direction,callback:function(a){e.$set(e.form,"direction",a)},expression:"form.direction"}},e._l(e.directionList,(function(e){return t("el-option",{key:e.id,attrs:{label:e.direction,value:e.id}})})),1)],1),t("div",{staticClass:"submit"},[t("el-form-item",[t("el-button",{attrs:{type:"primary"},on:{click:e.newDevice}},[e._v("提交")])],1)],1)],1)],1)]),t("el-table",{attrs:{data:e.tableDate,border:"","header-cell-style":{background:"#f0f0f0",color:"#2a9f93"},"max-height":"620"}},[t("el-table-column",{attrs:{prop:"id",label:"ID",width:"80px"}}),t("el-table-column",{attrs:{prop:"address.address",label:"地址",width:"200px"}}),t("el-table-column",{attrs:{prop:"uuid",label:"uuid",width:"200px"}}),t("el-table-column",{attrs:{prop:"type_string",label:"类型",width:"100px"}}),t("el-table-column",{attrs:{prop:"direction",label:"方向",width:"80px"}}),t("el-table-column",{attrs:{prop:"ip",label:"IP地址"}}),t("el-table-column",{attrs:{prop:"version",label:"版本"}}),t("el-table-column",{attrs:{prop:"remark",label:"备注",width:"250px"}}),t("el-table-column",{attrs:{prop:"online",label:"状态",width:"80px"},scopedSlots:e._u([{key:"default",fn:function(a){return[1==a.row.online?t("span",[e._v("在线")]):e._e(),0==a.row.online?t("span",[e._v("离线")]):e._e()]}}])}),t("el-table-column",{attrs:{prop:"last_login",label:"最后登录时间",width:"150px"}}),t("el-table-column",{attrs:{label:"操作"},scopedSlots:e._u([{key:"default",fn:function(a){return[t("el-dropdown",[t("el-button",{attrs:{type:"primary"}},[e._v(" 操作"),t("i",{staticClass:"el-icon-arrow-down el-icon--right"})]),t("el-dropdown-menu",{attrs:{slot:"dropdown"},slot:"dropdown"},[t("el-dropdown-item",[t("el-button",{attrs:{size:"mini",type:"primary"},on:{click:function(t){return e.handleExit(a.$index,a.row)}}},[e._v("编辑")])],1),t("el-dropdown-item",[t("el-button",{attrs:{size:"mini",type:"primary"},on:{click:function(t){return e.handleShowLog(a.$index,a.row)}}},[e._v("查看日志")])],1),t("el-dropdown-item",[4==a.row.type||1==a.row.type?t("el-button",{attrs:{size:"mini",type:"primary"},on:{click:function(t){return e.handleUserList(a.$index,a.row)}}},[e._v("查看用户")]):e._e()],1),t("el-dropdown-item",[t("el-button",{attrs:{size:"mini",type:"primary"},on:{click:function(t){return e.handleShowRecord(a.$index,a.row)}}},[e._v("查看进出记录")])],1),t("el-dropdown-item",[t("el-button",{attrs:{size:"mini",type:"primary"},on:{click:function(t){return e.handleShowFace(a.$index,a.row)}}},[e._v("查看人脸组")])],1),t("el-dropdown-item"),t("el-dropdown-item",[t("el-button",{attrs:{size:"mini",type:"primary"},on:{click:function(t){return e.handleHeart(a.$index,a.row)}}},[e._v("查看心跳")])],1),t("el-dropdown-item",[t("el-popconfirm",{attrs:{title:"是否要删除该条数据",cancelButtonType:"primary"},on:{onConfirm:function(t){return e.handleDel(a.$index,a.row)}}},[t("el-button",{attrs:{slot:"reference",size:"mini",type:"danger"},slot:"reference"},[e._v("删除")])],1)],1)],1)],1)]}}])})],1),t("div",{staticClass:"block"},[t("el-pagination",{attrs:{"current-page":e.current,"page-sizes":[10,20,50,100,150,200,250,300],"page-size":e.size,layout:"sizes, prev, pager, next, jumper",total:e.total},on:{"current-change":e.currentChange,"update:currentPage":function(a){e.current=a},"update:current-page":function(a){e.current=a},"size-change":e.sizeChange}})],1),t("el-dialog",{attrs:{title:"查看日志",visible:e.dialogLogs,width:"80%"},on:{"update:visible":function(a){e.dialogLogs=a}}},[t("el-table",{directives:[{name:"loading",rawName:"v-loading",value:e.logLoading,expression:"logLoading"}],attrs:{data:e.logstable,border:"","header-cell-style":{background:"#f0f0f0",color:"#2a9f93"},"element-loading-text":"获取数据中"}},[t("el-table-column",{attrs:{prop:"id",label:"ID"}}),t("el-table-column",{attrs:{prop:"uuid",label:"设备ID"}}),t("el-table-column",{attrs:{prop:"time",label:"时间"}}),t("el-table-column",{attrs:{prop:"logCat",label:"消息",width:"400px"},scopedSlots:e._u([{key:"default",fn:function(a){return[t("div",{staticClass:"logcat"},[e._v(e._s(a.row.logCat)+" ")]),a.row.logCat?t("div",{staticStyle:{"text-align":"left"}},[t("el-button",{attrs:{size:"mini"},on:{click:function(t){return e.showlogcat(a.$index,a.row)}}},[e._v("查看更多")])],1):e._e()]}}])}),t("el-table-column",{attrs:{prop:"type",label:"状态"},scopedSlots:e._u([{key:"default",fn:function(a){return[t("span",{domProps:{textContent:e._s(1==a.row.type?"正常":"异常")}})]}}])}),t("el-table-column",{attrs:{prop:"created_at",label:"创建时间"}})],1),t("div",{staticClass:"block"},[t("el-pagination",{attrs:{"current-page":e.currentLog,"page-sizes":[10,20,50,100,150,200,250,300],"page-size":e.sizeLog,layout:"sizes, prev, pager, next, jumper",total:e.totalLog},on:{"current-change":e.logCurrentChange,"update:currentPage":function(a){e.currentLog=a},"update:current-page":function(a){e.currentLog=a},"size-change":e.logSizeChange}})],1)],1),t("el-dialog",{attrs:{title:"查看日志",visible:e.dialogLogcat,width:"800px"},on:{"update:visible":function(a){e.dialogLogcat=a}}},[t("textarea",{directives:[{name:"model",rawName:"v-model",value:e.logCat,expression:"logCat"}],staticClass:"temp",domProps:{value:e.logCat},on:{input:function(a){a.target.composing||(e.logCat=a.target.value)}}})]),t("el-dialog",{attrs:{title:"查看进出记录",visible:e.dialogShowRecord,width:"80%"},on:{"update:visible":function(a){e.dialogShowRecord=a}}},[t("el-table",{directives:[{name:"loading",rawName:"v-loading",value:e.faceLoading,expression:"faceLoading"}],attrs:{data:e.faceLogsTable,border:"","header-cell-style":{background:"#f0f0f0",color:"#2a9f93"},"max-height":"620","element-loading-text":"获取数据中"}},[t("el-table-column",{attrs:{prop:"id",label:"ID"}}),t("el-table-column",{attrs:{prop:"device_uuid",label:"设备ID"}}),t("el-table-column",{attrs:{prop:"face.name",label:"名称"}}),t("el-table-column",{attrs:{prop:"time",label:"时间"}}),t("el-table-column",{attrs:{prop:"temp",label:"温度"}}),t("el-table-column",{attrs:{prop:"face_id",label:"人脸ID"}}),t("el-table-column",{attrs:{prop:"image",label:"人脸图片"},scopedSlots:e._u([{key:"default",fn:function(e){return[t("el-popover",{attrs:{placement:"top-start",title:"",trigger:"click"}},[t("img",{staticStyle:{"max-width":"800px","max-height":"800px"},attrs:{src:e.row.image}}),t("img",{staticStyle:{"max-width":"180px","max-height":"80px"},attrs:{slot:"reference",src:e.row.image},slot:"reference"})])]}}])})],1),t("div",{staticClass:"block"},[t("el-pagination",{attrs:{"current-page":e.currentFace,"page-sizes":[10,20,50,100,150,200,250,300],"page-size":e.sizeFace,layout:"sizes, prev, pager, next, jumper",total:e.totalFace},on:{"current-change":e.faceCurrentChange,"update:currentPage":function(a){e.currentFace=a},"update:current-page":function(a){e.currentFace=a},"size-change":e.faceSizeChange}})],1)],1),t("el-dialog",{attrs:{title:"查看人脸组",visible:e.dialogFaceGroup,width:"80%"},on:{"update:visible":function(a){e.dialogFaceGroup=a}}},[t("el-table",{attrs:{data:e.facetable,border:"","header-cell-style":{background:"#f0f0f0",color:"#2a9f93"}}},[t("el-table-column",{attrs:{prop:"id",label:"ID"}}),t("el-table-column",{attrs:{prop:"device_id",label:"设备ID"}}),t("el-table-column",{attrs:{prop:"group_id",label:"人脸组ID"}}),t("el-table-column",{attrs:{prop:"group_name",label:"人脸组名字"}})],1)],1),t("el-dialog",{attrs:{title:"设备："+e.uuid,visible:e.dialogHeart,fullscreen:!0},on:{"update:visible":function(a){e.dialogHeart=a}}},[t("div",{ref:"heartChart",staticStyle:{width:"100%",height:"600px"},attrs:{id:"heartChart"}}),t("el-table",{attrs:{data:e.arr,border:"","header-cell-style":{background:"#f0f0f0",color:"#2a9f93"}}},[t("el-table-column",{attrs:{prop:"id",label:"ID"}}),t("el-table-column",{attrs:{prop:"device_uuid",label:"设备ID"}}),t("el-table-column",{attrs:{prop:"time",label:"时间"}}),t("el-table-column",{attrs:{prop:"updated_at",label:"更新时间"}})],1)],1),t("el-dialog",{attrs:{title:"查看指令",visible:e.dialogCommands,width:"90%"},on:{"update:visible":function(a){e.dialogCommands=a},close:e.closeCommands}},[t("div",{staticClass:"handle-box"},[t("div",{staticClass:"btn"},[t("el-form",{attrs:{model:e.commandform,"label-width":"100px"}},[t("el-form-item",{attrs:{label:"指令"}},[t("el-select",{on:{change:e.changeCommand},model:{value:e.command,callback:function(a){e.command=a},expression:"command"}},e._l(e.commandList,(function(e,a){return t("el-option",{key:a,attrs:{label:e,value:a}})})),1)],1),"setPassword"===e.command?t("div",[t("el-form-item",{attrs:{label:"密码"}},[t("el-input",{attrs:{placeholder:"请输入密码"},model:{value:e.commandform.new_password,callback:function(a){e.$set(e.commandform,"new_password",a)},expression:"commandform.new_password"}})],1)],1):e._e(),"deleteUser"===e.command?t("div",[t("el-form-item",{attrs:{label:"FACE_ID"}},[t("el-input",{attrs:{placeholder:"请输入FACE_ID"},model:{value:e.commandform.face_id,callback:function(a){e.$set(e.commandform,"face_id",a)},expression:"commandform.face_id"}})],1)],1):e._e(),"addUser"===e.command?t("div",[t("el-form-item",{attrs:{label:"FACE_ID"}},[t("el-input",{attrs:{placeholder:"请输入FACE_ID"},model:{value:e.commandform.face_id,callback:function(a){e.$set(e.commandform,"face_id",a)},expression:"commandform.face_id"}})],1)],1):e._e(),t("div",{staticStyle:{"margin-left":"100px"}},[t("el-button",{attrs:{type:"primary"},on:{click:e.sendCommand}},[e._v("发送指令")])],1)],1)],1)]),t("el-table",{attrs:{data:e.commandsData,border:"","header-cell-style":{background:"#f0f0f0",color:"#2a9f93"},"max-height":480}},[t("el-table-column",{attrs:{prop:"id",label:"ID"}}),t("el-table-column",{attrs:{prop:"device_uuid",label:"设备ID"}}),t("el-table-column",{attrs:{prop:"command",label:"指令"}}),t("el-table-column",{attrs:{prop:"command_title",label:"指令名字"}}),t("el-table-column",{attrs:{prop:"state",label:"状态"},scopedSlots:e._u([{key:"default",fn:function(a){return["1"==a.row.state?t("span",[e._v("已创建")]):e._e(),"2"==a.row.state?t("span",[e._v("已下发")]):e._e(),"3"==a.row.state?t("span",[e._v("成功")]):e._e(),"4"==a.row.state?t("span",[e._v("失败")]):e._e()]}}])}),t("el-table-column",{attrs:{prop:"updated_at",label:"更新时间"}})],1)],1),t("el-dialog",{attrs:{title:"查看用户",visible:e.dialogUserList,width:"80%"},on:{"update:visible":function(a){e.dialogUserList=a}}},[t("el-table",{attrs:{data:e.userListData,border:"","header-cell-style":{background:"#f0f0f0",color:"#2a9f93"},"max-height":600}},[t("el-table-column",{attrs:{prop:"name",label:"姓名"}}),t("el-table-column",{attrs:{prop:"face_id",label:"FACE_ID"}}),t("el-table-column",{attrs:{prop:"href",label:"照片"},scopedSlots:e._u([{key:"default",fn:function(e){return[t("el-popover",{attrs:{placement:"top-start",title:"",trigger:"click"}},[t("img",{staticStyle:{"max-width":"800px","max-height":"800px"},attrs:{src:e.row.href}}),t("img",{staticStyle:{"max-width":"180px","max-height":"80px"},attrs:{slot:"reference",src:e.row.href},slot:"reference"})])]}}])}),t("el-table-column",{attrs:{label:"操作"},scopedSlots:e._u([{key:"default",fn:function(a){return[t("el-popconfirm",{attrs:{title:"是否要删除该条数据",cancelButtonType:"primary"},on:{onConfirm:function(t){return e.handleDelUser(a.$index,a.row)}}},[t("el-button",{attrs:{slot:"reference",size:"mini",type:"danger"},slot:"reference"},[e._v("删除")])],1)]}}])})],1)],1)],1)},o=[],i=(t("4160"),t("b0c0"),t("159b"),t("365c")),r=t("c466"),s=[],c={name:"gradems",data:function(){return{loading:!0,dialogLogcat:!1,logCat:"",dialogDevice:!1,typeList:[],type:"",pro_city_area:[],pro_city_area_id:"",label:"",projectList:[],addressList:[],faceGroupList:[],checkAll:!1,faceGroup:[],uuidList:[],uuidDisabled:!1,apkList:[],versionList:[],directionList:[{id:"in",direction:"进"},{id:"out",direction:"出"}],hotness:1,form:{name:"",address_id:"",project_id:"",type:"人脸机",uuid:"",remark:"",configs:[],apk:"",apk_version:"",face_groups:[],direction:""},face_type:"",face_project:"",face_address:"",face_apk:"",face_apk_version:"",tableDate:[],dialogFaceGroup:!1,facetable:[],dialogLogs:!1,logLoading:!0,logstable:[],dialogShowRecord:!1,faceLogsTable:[],faceLoading:!1,uuid:"",address_id:"",dialogHeart:!1,x_formatData:[],x_formatData_value:[],arr:[],heart_uuid:"",dialogCommands:!1,commandsData:[],command_uuid:"",command:"",commandform:{uuid:"",command:"",new_password:"",face_id:""},commandList:[],dialogUserList:!1,userListData:[],user_list_uuid:"",timer:"",langtime:10,current:1,size:10,total:0,log_uuid:"",currentLog:1,sizeLog:10,totalLog:0,face_uuid:"",currentFace:1,sizeFace:10,totalFace:0,cascaderData:[],props:{label:"title",value:"id",lazy:!0,lazyLoad:function(e,a){var t=e.level;if(1==t){var n=e.data.id;i["a"].areas(1,100,n).then((function(e){var n=e.data;n.forEach((function(e){e.leaf=t>=3})),a(n)}))}if(2==t){var o=e.data.id;i["a"].areas(1,100,o).then((function(e){var n=e.data;n.forEach((function(e){e.leaf=t>=3})),a(n)}))}if(3==t){var r=e.data.id;i["a"].areas(1,100,r).then((function(e){var n=e.data;n.forEach((function(e){e.leaf=t>=3})),a(n)}))}}},area_address_List:[],area_address_id:""}},mounted:function(){this.getDevice(),this.getAddress(),this.getUuid(),this.getApk(),this.getTypes(),this.getProject(),this.getCommandType(),this.getPro()},methods:{getPro:function(){var e=this;i["a"].areas(1,100,0).then((function(a){e.cascaderData=a.data}))},proChange:function(e){var a=this;a.pro_city_area_id=e[3],i["a"].devices(1,a.size,a.type,a.uuid,a.pro_city_area_id).then((function(e){a.loading=!1,a.tableDate=e.data,a.total=e.total})).catch((function(e){a.loading=!1})),i["a"].addresses(1,100,"",a.pro_city_area_id).then((function(e){a.loading=!1,a.area_address_List=e.data})).catch((function(e){a.loading=!1}))},areaAddressChange:function(e){var a=this;i["a"].devices(1,a.size,a.type,a.uuid,a.pro_city_area_id,e).then((function(e){a.loading=!1,a.tableDate=e.data,a.total=e.total})).catch((function(e){a.loading=!1}))},search:function(){var e=this;e.loading=!0,i["a"].devices(1,10,e.type,e.uuid,e.pro_city_area_id).then((function(a){e.loading=!1,e.tableDate=a.data,e.total=a.total,e.$message.success("搜索成功!")})).catch((function(a){e.loading=!1}))},typeChange:function(e){var a=this;a.loading=!0,i["a"].devices(1,a.size,e,a.uuid,a.pro_city_area_id).then((function(e){a.loading=!1,a.tableDate=e.data,a.total=e.total,a.current=1,a.$message.success("搜索成功！")})).catch((function(e){a.loading=!1}))},getDevice:function(){var e=this;i["a"].devices(this.current).then((function(a){e.loading=!1,e.tableDate=a.data,e.total=a.total})).catch((function(a){e.loading=!1}))},getTypes:function(){var e=this;i["a"].deviceTypes().then((function(a){console.log(a),e.typeList=a}))},faceTypeChange:function(e){this.form.type=e},getProject:function(){var e=this;i["a"].projects(1).then((function(a){e.projectList=a.data}))},changeProject:function(e){var a=this;a.form.project_id=e,a.getAddress(e)},getAddress:function(e){var a=this;i["a"].addresses(1,1e3,e).then((function(e){a.addressList=e.data}))},addressChange:function(e){this.form.address_id=e,this.form.face_groups=[],this.getFaceGroup(e)},getFaceGroup:function(e){var a=this;i["a"].faceGroup(e).then((function(e){a.faceGroupList=e.data,console.log(a.faceGroupList)}))},handleCheckAllChange:function(e){!0===e?(s=[],this.faceGroupList.forEach((function(e){s.push(e.group_name)})),this.form.face_groups=s):!1===e&&(s=[],this.form.face_groups=[])},checkOneChange:function(e){console.log(this.form.face_groups),this.form.face_groups.length>=this.faceGroupList.length?this.checkAll=!0:this.checkAll=!1},getUuid:function(){var e=this;i["a"].uuid(1,1e3).then((function(a){e.uuidList=a.data}))},referUUID:function(){var e=this;i["a"].uuid(1,1e3).then((function(a){e.uuidList=a.data}))},getApk:function(){var e=this;i["a"].apks(1).then((function(a){e.apkList=a.data}))},apkChange:function(e){console.log(e),this.form.apk=e,this.getApkVersion(e)},getApkVersion:function(e){var a=this;i["a"]._apkVersions(e).then((function(e){a.versionList=e.data}))},apkVersionChange:function(e){this.form.apk_version=e},addDevice:function(){var e=this;e.uuidDisabled=!1,e.dialogDevice=!0,e.checkAll=!1,e.form={name:"",address_id:"",project_id:"",type:"人脸机",uuid:"",remark:"",configs:[],apk:"",apk_version:"",face_groups:[],direction:""},e.face_project="",e.face_address="",e.faceGroup="",e.face_apk="",e.face_apk_version="",e.face_type=""},newDevice:function(){var e=this;switch(e.hotness){case 1:e.form.configs.push({heatvision:"normal"});break;case 2:e.form.configs.push({heatvision:"strict"});break;case 3:e.form.configs.push({heatvision:"none"})}i["a"].device(e.form).then((function(a){e.getUuid(),e.dialogDevice=!1,e.$message.success("提交成功"),e.getDevice(),e.currentPage=1,e.form={id:"",name:"",address_id:"",project_id:"",type:"人脸机",uuid:"",remark:"",configs:[],apk:"",apk_version:"",face_groups:[],direction:""},e.face_project="",e.face_address="",e.faceGroup="",e.face_apk="",e.face_apk_version="",e.face_type=""}))},handleExit:function(e,a){var t=this;t.dialogDevice=!0,t.uuidDisabled=!0,i["a"]._device(a.uuid).then((function(e){switch(t.form.id=e.id,t.form.name=e.remark,t.form.address_id=e.address_id,t.form.project_id=e.project_id,t.form.type=e.type,t.form.uuid=e.uuid,t.form.configs=[],t.hotness=e.configs.heatvision,t.form.direction=e.direction,t.form.remark=e.remark,t.form.face_groups=e.face_group,t.face_project=e.project,t.face_address=e.address_id,t.face_apk=e.apk,t.face_apk_version=e.apk_version,t.face_type=e.type_string,i["a"].faceGroup(e.address_id).then((function(e){t.faceGroupList=e.data,t.form.face_groups.length>=t.faceGroupList.length?t.checkAll=!0:t.checkAll=!1})),e.configs.heatvision){case"normal":t.hotness=1;break;case"strict":t.hotness=2;break;case"none":t.hotness=3}}))},handleShowLog:function(e,a){var t=this;this.dialogLogs=!0,this.log_uuid=a.uuid,i["a"].deviceLogs(1,10,a.uuid).then((function(e){t.logLoading=!1,t.logstable=e.data,t.totalLog=e.total})).catch((function(e){t.logLoading=!1}))},logCurrentChange:function(e){var a=this;a.currentLog=e,a.logLoading=!0,i["a"].deviceLogs(e,a.sizeLog,a.log_uuid).then((function(e){a.logLoading=!1,a.logstable=e.data,a.totalLog=e.total})).catch((function(e){a.logLoading=!1}))},logSizeChange:function(e){var a=this;a.logLoading=!0,a.sizeLog=e,i["a"].deviceLogs(a.currentLog,e,a.log_uuid).then((function(e){a.logLoading=!1,a.logstable=e.data,a.totalLog=e.total})).catch((function(e){a.logLoading=!1}))},handleShowFace:function(e,a){console.log(a.groups),this.dialogFaceGroup=!0,this.facetable=a.groups},handleShowRecord:function(e,a){var t=this;this.dialogShowRecord=!0,this.face_uuid=a.uuid,this.address_id=a.address_id,i["a"].deviceFaceLogs(1,10,a.uuid).then((function(e){t.faceLogsTable=e.data,t.totalFace=e.total}))},faceCurrentChange:function(e){var a=this;a.currentFace=e,a.FaceLoading=!0,i["a"].deviceFaceLogs(e,a.sizeFace,a.face_uuid).then((function(e){a.faceLoading=!1,a.faceLogsTable=e.data,a.totalFace=e.total})).catch((function(e){a.faceLoading=!1}))},faceSizeChange:function(e){var a=this;a.faceLoading=!0,a.sizeFace=e,i["a"].deviceFaceLogs(a.currentFace,e,a.face_uuid).then((function(e){a.faceLoading=!1,a.faceLogsTable=e.data,a.totalFace=e.total})).catch((function(e){a.faceLoading=!1}))},handleDel:function(){},showlogcat:function(e,a){this.dialogLogcat=!0,this.logCat=a.logCat},handleHeart:function(e,a){console.log(a);var t=this;t.dialogHeart=!0,t.heart_uuid=a.uuid,t.x_formatData=[],clearInterval(t.timer),t.langtime=10,t.drawLine(),i["a"].deviceHeart(t.heart_uuid).then((function(e){t.arr=e.originData,t.arr.forEach((function(e){e.time=r["a"].formatTime(e.time,"Y-M-D h:m:s")}))}))},drawLine:function(){var e=this;e.$nextTick((function(){e.x_formatData=[];var a=[],t=e.$echarts.init(e.$refs.heartChart);t.setOption({title:{text:"网络心跳图NaN"},tooltip:{},legend:{data:["销量"]},xAxis:{name:"时间/分钟",data:[]},yAxis:{},series:[{name:"time",type:"line"}]}),t.showLoading(),i["a"].deviceHeart(e.heart_uuid).then((function(n){t.hideLoading(),a=[];for(var o=0;o<n.formatData.length;o++)e.x_formatData.push(o),a.push(n.formatData[o]);t.setOption({xAxis:{data:e.x_formatData},series:[{name:"time",data:a}]})})),e.timer=setInterval((function(){if(0==e.langtime){e.x_formatData=[],a=[];var t=e.$echarts.init(e.$refs.heartChart);t.setOption({title:{text:"网络心跳图"+e.langtime--+"秒后刷新"},tooltip:{},legend:{data:["销量"]},xAxis:{name:"时间/分钟",data:[]},yAxis:{},series:[{name:"time",type:"line"}]}),t.showLoading(),i["a"].deviceHeart(e.heart_uuid).then((function(n){e.arr=n.originData,e.arr.forEach((function(e){e.time=r["a"].formatTime(e.time,"Y-M-D h:m:s")})),t.hideLoading();for(var o=0;o<n.formatData.length;o++)e.x_formatData.push(o),a.push(n.formatData[o]);t.setOption({xAxis:{data:e.x_formatData},series:[{name:"time",data:a}]})})),e.langtime=10}else e.$nextTick((function(){var a=e.$echarts.init(e.$refs.heartChart);a.setOption({title:{text:"网络心跳图"+e.langtime--+"秒后刷新"}})}))}),1e3)}))},handleShowCommands:function(e,a){var t=this;t.dialogCommands=!0,t.command_uuid=a.uuid,console.log("uuid",t.command_uuid),i["a"].deviceCommands(1,10,a.uuid).then((function(e){t.commandsData=e.data,t.totalCommandsPage=e.total}))},getCommandType:function(){var e=this;i["a"].commandsType(4).then((function(a){e.commandList=a}))},changeCommand:function(e){var a=this;switch(a.commandform={},a.command){case"setPassword":a.commandform={uuid:a.command_uuid,command:"setPassword",new_password:""};break;case"deleteUser":a.commandform={uuid:a.command_uuid,command:"deleteUser",face_id:""};break;case"addUser":a.commandform={uuid:a.command_uuid,command:"addUser",face_id:""};break;case"getSoftVersion":a.commandform={uuid:a.command_uuid,command:"getSoftVersion"};break;case"restart":a.commandform={uuid:a.command_uuid,command:"restart"}}},sendCommand:function(){var e=this;switch(e.command){case"setPassword":i["a"].sendDeviceCommand(e.commandform).then((function(a){e.$message.success("发送成功"),e.command=""}));break;case"deleteUser":i["a"].sendDeviceCommand(e.commandform).then((function(a){e.$message.success("发送成功"),e.command=""}));break;case"addUser":i["a"].sendDeviceCommand(e.commandform).then((function(a){e.$message.success("发送成功"),e.command=""}));break;case"getSoftVersion":i["a"].sendDeviceCommand(e.commandform).then((function(a){e.$message.success("发送成功"),e.command=""}));break;case"restart":i["a"].sendDeviceCommand(e.commandform).then((function(a){e.$message.success("发送成功"),e.command=""}))}},closeCommands:function(){var e=this;e.command_uuid="",e.command="",console.log("111uuid",e.command_uuid)},handleUserList:function(e,a){var t=this;t.dialogUserList=!0,t.user_list_uuid=a.uuid,i["a"].deviceUserList(1,10,a.uuid).then((function(e){t.userListData=e,t.totalUserListPage=e.total}))},handleDelUser:function(e,a){var t=this,n={uuid:t.user_list_uuid,command:"deleteUser",face_id:a.face_id};i["a"].sendDeviceCommand(n).then((function(e){t.$message.success("删除成功"),i["a"].deviceUserList(1,10,t.user_list_uuid).then((function(e){t.userListData=e}))}))},currentChange:function(e){var a=this;a.current=e,a.loading=!0,i["a"].devices(e,a.size,a.type,a.uuid,a.pro_city_area_id).then((function(e){a.loading=!1,a.tableDate=e.data,a.total=e.total})).catch((function(e){a.loading=!1}))},sizeChange:function(e){var a=this;a.loading=!0,a.size=e,i["a"].devices(a.current,e,a.type,a.uuid,a.pro_city_area_id).then((function(e){a.loading=!1,a.tableDate=e.data,a.total=e.total})).catch((function(e){a.loading=!1}))}},beforeDestroy:function(){clearInterval(this.timer)}},l=c,d=(t("77f0"),t("2877")),u=Object(d["a"])(l,n,o,!1,null,"aa9239e6",null);a["default"]=u.exports},c466:function(e,a,t){"use strict";t("d3b7"),t("ac1f"),t("25f0"),t("5319");var n={};function o(e){return e=e.toString(),e[1]?e:"0"+e}n.formatTime=function(e,a){var t=["Y","M","D","h","m","s"],n=[],i=new Date(1e3*e);for(var r in n.push(i.getFullYear()),n.push(o(i.getMonth()+1)),n.push(o(i.getDate())),n.push(o(i.getHours())),n.push(o(i.getMinutes())),n.push(o(i.getSeconds())),n)a=a.replace(t[r],n[r]);return a},a["a"]=n},f239:function(e,a,t){}}]);
//# sourceMappingURL=chunk-b7456cbe.a99df16e.js.map