(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-26a2fe69"],{"365c":function(e,t,a){"use strict";var n=a("be3b"),o=a("99b1"),i=a.n(o),r={aip:function(e){return n["a"].post(i.a.Aip,e)},delAip:function(e){return n["a"].delete(i.a.Aip,{id:e})},aips:function(e){return n["a"].get(i.a.Aips,{page:e})},apk:function(e){return n["a"].post(i.a.Apk,e)},apks:function(e){return n["a"].get(i.a.Apks,{page:e})},apkVersion:function(e){return n["a"].post(i.a.ApkVersion,e)},apkVersions:function(e,t){return n["a"].get(i.a.ApkVersions,{page:e,apk_id:t})},_apkVersions:function(e){return n["a"].get(i.a.ApkVersions,{id:e})},publishApk:function(e){return n["a"].post(i.a.PublishApk,e)},project:function(e){return n["a"].post(i.a.Project,e)},projects:function(e){return n["a"].get(i.a.Projects,{page:e})},address:function(e){return n["a"].post(i.a.Address,e)},addresses:function(e){return n["a"].get(i.a.Addresses,{page:e})},face:function(e){return n["a"].post(i.a.Face,e)},faces:function(e){return n["a"].get(i.a.Faces,{page:e})},device:function(e){return n["a"].post(i.a.Device,e)},devices:function(e){return n["a"].get(i.a.Devices,{page:e})},_devices:function(e,t,a){return n["a"].get(i.a.Devices,{direction:e,addresses:t,limit:a})},deviceLogs:function(e,t,a,o){return n["a"].get(i.a.DeviceLogs,{page:e,limit:t,uuid:a,type:o})},faceGroup:function(e){return n["a"].get(i.a.FaceGroup,{address_id:e})},uuid:function(e,t){return n["a"].get(i.a.Uuid,{page:e,limit:t})}};t["a"]=r},8450:function(e,t,a){},9523:function(e,t){function a(e,t,a){return t in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}e.exports=a},"99b1":function(e,t,a){var n,o=a("9523"),i=(n={Login:"/login",Password:"/password",Aip:"/aip",Aips:"/aips"},o(n,"Aip","/aip"),o(n,"RestoreAip","/restore/aip"),o(n,"Project","/project"),o(n,"Projects","/projects"),o(n,"Project","/project"),o(n,"RestoreProject","/restore/project"),o(n,"Address","/address"),o(n,"Addresses","/addresses"),o(n,"Address","/address"),o(n,"RestoreAddress","/restore/address"),o(n,"Face","/face"),o(n,"PassFace","/pass/face"),o(n,"Face","/face"),o(n,"Faces","/faces"),o(n,"Device","/device"),o(n,"Devices","/devices"),o(n,"Uuid","/unknown/devices"),o(n,"DeviceFaceGroup","/device/face/group"),o(n,"FaceGroup","/face/groups"),o(n,"DeviceLogs","/device/logs"),o(n,"Apk","/apk"),o(n,"Apks","/apks"),o(n,"ApkVersion","/apk/version"),o(n,"ApkVersions","/apk/versions"),o(n,"PublishApk","/publish/apk"),o(n,"UploadFace","/upload/face"),o(n,"ApiToken","/api/token"),n);e.exports=i},ac21:function(e,t,a){"use strict";var n=a("8450"),o=a.n(n);o.a},f1b3:function(e,t,a){"use strict";a.r(t);var n=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[a("div",{staticClass:"btn"},[a("el-button",{attrs:{type:"primary"},on:{click:function(t){e.dialogDevice=!0}}},[e._v("添加设备")])],1),a("el-dialog",{attrs:{title:"添加设备",visible:e.dialogDevice},on:{"update:visible":function(t){e.dialogDevice=t}}},[a("div",{staticClass:"box"},[a("el-form",{attrs:{model:e.form,"label-width":"100px"}},[a("el-form-item",{attrs:{label:"设备名称"}},[a("el-input",{model:{value:e.form.name,callback:function(t){e.$set(e.form,"name",t)},expression:"form.name"}})],1),a("el-form-item",{attrs:{label:"类型"}},[a("el-input",{model:{value:e.form.type,callback:function(t){e.$set(e.form,"type",t)},expression:"form.type"}})],1),a("el-form-item",{attrs:{label:"选择地址"}},[a("el-select",{attrs:{placeholder:"请选择地址"},on:{change:e.addressChange},model:{value:e.form.address_id,callback:function(t){e.$set(e.form,"address_id",t)},expression:"form.address_id"}},e._l(e.addressList,(function(e){return a("el-option",{key:e.id,attrs:{label:e.address,value:e.id}})})),1)],1),e.form.address_id?a("div",[a("el-form-item",{attrs:{label:"选择人脸组"}},[a("el-checkbox",{on:{change:e.handleCheckAllChange},model:{value:e.checkAll,callback:function(t){e.checkAll=t},expression:"checkAll"}},[e._v("全选")]),a("div",{staticClass:"facebox"},e._l(e.faceGroupList,(function(t,n){return a("div",{key:n},[a("el-checkbox-group",{staticClass:"facebox-item",model:{value:e.form.face_groups,callback:function(t){e.$set(e.form,"face_groups",t)},expression:"form.face_groups"}},[a("el-checkbox",{attrs:{label:t.group_name}})],1)],1)})),0)],1)],1):e._e(),a("el-form-item",{attrs:{label:"选择uuid"}},[a("el-select",{attrs:{placeholder:"请选择uuid"},model:{value:e.form.uuid,callback:function(t){e.$set(e.form,"uuid",t)},expression:"form.uuid"}},e._l(e.uuidList,(function(e){return a("el-option",{key:e.id,attrs:{label:e.uuid,value:e.uuid}})})),1)],1),a("el-form-item",{attrs:{label:"选择安装包"}},[a("el-select",{attrs:{placeholder:"请选择安装包"},on:{change:e.apkChange},model:{value:e.form.apk,callback:function(t){e.$set(e.form,"apk",t)},expression:"form.apk"}},e._l(e.apkList,(function(e){return a("el-option",{key:e.id,attrs:{label:e.name,value:e.id}})})),1)],1),a("el-form-item",{attrs:{label:"安装包版本"}},[a("el-select",{attrs:{placeholder:"请选择版本"},model:{value:e.form.apk_version,callback:function(t){e.$set(e.form,"apk_version",t)},expression:"form.apk_version"}},e._l(e.versionList,(function(e){return a("el-option",{key:e.id,attrs:{label:e.version,value:e.id}})})),1)],1),a("el-form-item",{attrs:{label:"配置热感"}},[a("el-radio-group",{model:{value:e.hotness,callback:function(t){e.hotness=t},expression:"hotness"}},[a("el-radio",{attrs:{label:1}},[e._v("正常")]),a("el-radio",{attrs:{label:2}},[e._v("严格")]),a("el-radio",{attrs:{label:3}},[e._v("关闭")])],1)],1),a("el-form-item",{attrs:{label:"选择方向"}},[a("el-select",{attrs:{placeholder:"请选择地址"},model:{value:e.form.direction,callback:function(t){e.$set(e.form,"direction",t)},expression:"form.direction"}},e._l(e.directionList,(function(e){return a("el-option",{key:e.id,attrs:{label:e.direction,value:e.id}})})),1)],1),a("div",{staticClass:"submit"},[a("el-form-item",[a("el-button",{attrs:{type:"primary"},on:{click:e.newDevice}},[e._v("提交")])],1)],1)],1)],1)]),a("el-table",{ref:"multipleTable",attrs:{data:e.tableDate}},[a("el-table-column",{attrs:{label:"名称",type:"selection",align:"center"}}),a("el-table-column",{attrs:{prop:"id",label:"ID",align:"center"}}),a("el-table-column",{attrs:{prop:"address_id",label:"地址ID",align:"center"}}),a("el-table-column",{attrs:{prop:"uuid",label:"uuid",align:"center"}}),a("el-table-column",{attrs:{prop:"type",label:"类型",align:"center"}}),a("el-table-column",{attrs:{prop:"direction",label:"方向",align:"center"}}),a("el-table-column",{attrs:{prop:"version",label:"版本",align:"center"}}),a("el-table-column",{attrs:{prop:"remark",label:"备注",align:"center"}}),a("el-table-column",{attrs:{prop:"last_login",label:"最后登录时间",align:"center",width:"200px"}}),a("el-table-column",{attrs:{label:"操作",align:"center",width:"400px"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("el-button",{attrs:{size:"mini",type:"success"},on:{click:function(a){return e.handleShowLog(t.$index,t.row)}}},[e._v("查看日志")]),a("el-button",{attrs:{size:"mini",type:"success"},on:{click:function(a){return e.handleShowRecord(t.$index,t.row)}}},[e._v("查看进出记录")]),a("el-button",{attrs:{size:"mini",type:"success"},on:{click:function(a){return e.handleShowFace(t.$index,t.row)}}},[e._v("查看人脸组")]),a("el-button",{attrs:{size:"mini",type:"danger"},on:{click:function(a){return e.handleDelete(t.$index,t.row)}}},[e._v("删除")])]}}])})],1),a("el-dialog",{attrs:{title:"查看日志",visible:e.dialogLogs,width:"80%"},on:{"update:visible":function(t){e.dialogLogs=t}}},[a("el-table",{attrs:{data:e.logstable}},[a("el-table-column",{attrs:{prop:"id",label:"ID",align:"center"}}),a("el-table-column",{attrs:{prop:"uuid",label:"设备ID",align:"center"}}),a("el-table-column",{attrs:{prop:"time",label:"时间",align:"center"}}),a("el-table-column",{attrs:{prop:"logCat",label:"消息",align:"center",width:"400px"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("div",{staticClass:"logcat"},[e._v(e._s(t.row.logCat)+" ")]),t.row.logCat?a("div",[a("el-button",{attrs:{size:"mini"},on:{click:function(a){return e.showlogcat(t.$index,t.row)}}},[e._v("查看更多")])],1):e._e()]}}])}),a("el-table-column",{attrs:{prop:"type",label:"状态",align:"center"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("span",{domProps:{textContent:e._s(1==t.row.type?"正常":"异常")}})]}}])}),a("el-table-column",{attrs:{prop:"created_at",label:"创建时间",align:"center"}})],1),a("div",{staticClass:"block"},[a("el-pagination",{attrs:{"current-page":e.currentLogsPage,"page-size":10,layout:"prev, pager, next, jumper",total:e.totalLogsPage},on:{"current-change":e.handleCurrentLogsChange,"update:currentPage":function(t){e.currentLogsPage=t},"update:current-page":function(t){e.currentLogsPage=t}}})],1)],1),a("el-dialog",{attrs:{title:"查看人脸组",visible:e.dialogLogcat,width:"800px"},on:{"update:visible":function(t){e.dialogLogcat=t}}},[a("textarea",{directives:[{name:"model",rawName:"v-model",value:e.logCat,expression:"logCat"}],staticClass:"temp",domProps:{value:e.logCat},on:{input:function(t){t.target.composing||(e.logCat=t.target.value)}}})]),a("el-dialog",{attrs:{title:"查看人脸组",visible:e.dialogFaceGroup,width:"80%"},on:{"update:visible":function(t){e.dialogFaceGroup=t}}},[a("el-table",{attrs:{data:e.facetable}},[a("el-table-column",{attrs:{prop:"id",label:"ID",align:"center"}}),a("el-table-column",{attrs:{prop:"device_id",label:"设备ID",align:"center"}}),a("el-table-column",{attrs:{prop:"group_id",label:"人脸组ID",align:"center"}}),a("el-table-column",{attrs:{prop:"group_name",label:"人脸组名字",align:"center"}})],1)],1),a("div",{staticClass:"block"},[a("el-pagination",{attrs:{"current-page":e.currentPage,"page-size":10,layout:"prev, pager, next, jumper",total:e.totalPage},on:{"current-change":e.handleCurrentChange,"update:currentPage":function(t){e.currentPage=t},"update:current-page":function(t){e.currentPage=t}}})],1)],1)},o=[],i=(a("4160"),a("159b"),a("365c")),r={name:"gradems",data:function(){return{dialogLogcat:!1,logCat:"",dialogDevice:!1,addressList:[],faceGroupList:[],checkAll:!1,uuidList:[],apkList:[],versionList:[],directionList:[{id:"in",direction:"进"},{id:"out",direction:"出"}],hotness:1,form:{name:"",address_id:"",type:"人脸机",uuid:"",remark:"",configs:[],apk:"",apk_version:"",face_groups:[],direction:""},tableDate:[],dialogFaceGroup:!1,facetable:[],dialogLogs:!1,logstable:[],uuid:"",currentLogsPage:1,totalLogsPage:0,currentPage:1,totalPage:0}},mounted:function(){this.getDevice(),this.getAddress(),this.getUuid(),this.getApk()},methods:{getDevice:function(){var e=this,t=this;i["a"].devices(this.currentPage).then((function(a){e.tableDate=a.data,t.totalPage=a.total}))},getAddress:function(){var e=this;i["a"].addresses(e.currentPage).then((function(t){e.addressList=t.data}))},addressChange:function(e){this.getFaceGroup(e)},getFaceGroup:function(e){var t=this;i["a"].faceGroup(e).then((function(e){t.faceGroupList=e.data}))},handleCheckAllChange:function(e){var t=[];this.faceGroupList.forEach((function(e){t.push(e.group_name)})),this.form.face_groups=e?t:[]},getUuid:function(){var e=this;i["a"].uuid(e.currentPage,100).then((function(t){e.uuidList=t.data}))},getApk:function(){var e=this;i["a"].apks(e.currentPage).then((function(t){e.apkList=t.data}))},apkChange:function(e){console.log(e),this.getApkVersion(e)},getApkVersion:function(e){var t=this;i["a"]._apkVersions(e).then((function(e){t.versionList=e.data}))},newDevice:function(){var e=this;switch(e.hotness){case 1:e.form.configs.push({heatvision:"normal"});break;case 2:e.form.configs.push({heatvision:"strict"});break;case 3:e.form.configs.push({heatvision:"none"})}i["a"].device(e.form).then((function(t){e.getUuid(),e.dialogDevice=!1,e.$message.success("提交成功"),e.getDevice(),e.currentPage=1,e.form={name:"",address_id:"",type:"人脸机",uuid:"",remark:"",configs:[],apk:"",apk_version:"",face_groups:[],direction:""}}))},handleShowLog:function(e,t){var a=this;this.dialogLogs=!0,this.uuid=t.uuid,i["a"].deviceLogs(1,10,t.uuid).then((function(e){a.logstable=e.data,a.totalLogsPage=e.total}))},handleCurrentLogsChange:function(e){var t=this;i["a"].deviceLogs(e,10,this.uuid).then((function(e){t.logstable=e.data,t.totalLogsPage=e.total}))},handleShowFace:function(e,t){console.log(t.groups),this.dialogFaceGroup=!0,this.facetable=t.groups},handleDel:function(){},showlogcat:function(e,t){this.dialogLogcat=!0,this.logCat=t.logCat},handleCurrentChange:function(e){var t=this;t.getDevice()}}},l=r,s=(a("ac21"),a("2877")),c=Object(s["a"])(l,n,o,!1,null,"4e04b9ac",null);t["default"]=c.exports}}]);
//# sourceMappingURL=chunk-26a2fe69.979dc224.js.map