(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-1f0eff1c","chunk-2d225891"],{"1146d":function(e,a,t){"use strict";var n=t("4185"),r=t.n(n);r.a},"365c":function(e,a,t){"use strict";var n=t("be3b"),r=t("99b1"),o=t.n(r),i={aip:function(e){return n["a"].post(o.a.Aip,e)},delAip:function(e){return n["a"].del(o.a.Aip,{id:e})},aips:function(e,a){return n["a"].get(o.a.Aips,{page:e,limit:a})},apk:function(e){return n["a"].post(o.a.Apk,e)},apks:function(e,a){return n["a"].get(o.a.Apks,{page:e,limit:a})},apkVersion:function(e){return n["a"].post(o.a.ApkVersion,e)},apkVersions:function(e,a,t){return n["a"].get(o.a.ApkVersions,{page:e,limit:a,apk_id:t})},_apkVersions:function(e){return n["a"].get(o.a.ApkVersions,{id:e})},publishApk:function(e){return n["a"].post(o.a.PublishApk,e)},project:function(e){return n["a"].post(o.a.Project,e)},projects:function(e,a){return n["a"].get(o.a.Projects,{page:e,limit:a})},address:function(e){return n["a"].post(o.a.Address,e)},getaddress:function(e){return n["a"].get(o.a.Address,{id:e})},addresses:function(e,a,t,r,i){return n["a"].get(o.a.Addresses,{page:e,limit:a,project_id:t,area_id:r,address:i})},addressTypes:function(e,a){return n["a"].get(o.a.AddressTypes,{page:e,limit:a})},addressesMap:function(e,a,t){return n["a"].get(o.a.Addresses,{page:e,limit:a,type:t})},face:function(e){return n["a"].post(o.a.Face,e)},faces:function(e,a,t){return n["a"].get(o.a.Faces,{page:e,limit:a,name:t})},searchFace:function(e){return n["a"].post(o.a.SearchImageFace,e)},pushRecords:function(e,a,t,r){return n["a"].get(o.a.PushRecords,{page:e,limit:a,name:t,address:r})},pushRecordCommands:function(e){return n["a"].get(o.a.PushRecordCommands,{id:e})},againPush:function(e){return n["a"].post(o.a.PushRecord,e)},areas:function(e,a,t){return n["a"].get(o.a.Areas,{page:e,limit:a,parent_id:t})},area:function(e){return n["a"].post(o.a.Area,e)},device:function(e){return n["a"].post(o.a.Device,e)},_device:function(e){return n["a"].get(o.a.Device,{uuid:e})},devices:function(e,a,t,r,i,c,s,m){return n["a"].get(o.a.Devices,{page:e,limit:a,type:t,uuid:r,area_id:i,address_id:c,online:s,address:m})},_devices:function(e,a,t){return n["a"].get(o.a.Devices,{direction:e,addresses:a,limit:t})},deviceLogs:function(e,a,t,r){return n["a"].get(o.a.DeviceLogs,{page:e,limit:a,uuid:t,type:r})},deviceFaceLogs:function(e,a,t,r,i,c){return n["a"].get(o.a.DeviceRecord,{page:e,limit:a,uuid:t,search:r,area_id:i,address_id:c})},searchFaceLogs:function(e,a,t){return n["a"].get(o.a.DeviceRecord,{page:e,limit:a,faces:t})},deviceTypes:function(){return n["a"].get(o.a.DeviceTypes)},deviceHeart:function(e){return n["a"].get(o.a.DeviceHeartbeat,{uuid:e})},deviceCommands:function(e,a,t){return n["a"].get(o.a.DeviceCommands,{page:e,limit:a,uuid:t})},commandsType:function(e){return n["a"].get(o.a.Commands,{type:e})},sendDeviceCommand:function(e){return n["a"].post(o.a.SendDeviceCommand,e)},catchFace:function(e){return n["a"].get(o.a.CatchFaces,{id:e})},deviceUserList:function(e,a,t){return n["a"].get(o.a.DeviceUserList,{page:e,limit:a,uuid:t})},faceGroup:function(e){return n["a"].get(o.a.FaceGroup,{address_id:e})},uuid:function(e,a){return n["a"].get(o.a.Uuid,{page:e,limit:a})},dangerFace:function(e){return n["a"].post(o.a.DangerFace,e)},importHistory:function(e,a,t){return n["a"].get(o.a.ImportTasks,{page:e,limit:a,state:t})},delDangerFace:function(e){return n["a"].del(o.a.DelDangerFace,{id:e})},dangerFaces:function(e,a){return n["a"].get(o.a.DangerFaces,{page:e,limit:a})},personVerifies:function(e,a,t,r){return n["a"].get(o.a.PersonVerifies,{page:e,limit:a,search:t,state:r})},dangerLogs:function(e,a,t,r){return n["a"].get(o.a.DangerLogs,{page:e,limit:a,danger_id:t,address:r})},alert:function(e,a,t,r,i,c,s,m,u){return n["a"].get(o.a.DangerAlerts,{page:e,limit:a,state:t,search:r,dangers:i,alert_type:c,start:s,end:m,danger_type:u})},handleAlerts:function(e){return n["a"].post(o.a.HandleAlerts,{results:e})},dangerTypes:function(){return n["a"].get(o.a.DangerTypes,{})},notifyChange:function(e){return n["a"].post(o.a.ChangeDangerFace,e)},roles:function(e,a){return n["a"].get(o.a.Roles,{page:e,limit:a})},oneRole:function(e){return n["a"].get(o.a.Role,{name:e})},role:function(e){return n["a"].post(o.a.Role,e)},users:function(e,a){return n["a"].get(o.a.Users,{page:e,limit:a})},user:function(e){return n["a"].post(o.a.User,e)},policeLevel:function(e){return n["a"].post(o.a.PoliceLevel,e)},policeLevels:function(e,a,t,r){return n["a"].get(o.a.PoliceLevels,{page:e,limit:a,level:t,parent_id:r})},policeman:function(e){return n["a"].post(o.a.Policeman,e)},policemen:function(e,a,t,r,i,c){return n["a"].get(o.a.Policemen,{page:e,limit:a,station_id:t,department_id:r,state:i,search:c})},audit:function(e){return n["a"].post(o.a.PassPoliceman,e)},policeStation:function(e){return n["a"].post(o.a.PoliceStation,e)},policeStations:function(e,a,t){return n["a"].get(o.a.PoliceStations,{page:e,limit:a,name:t})},information:function(e){return n["a"].post(o.a.Information,e)},informations:function(e,a,t,r){return n["a"].get(o.a.Information,{page:e,limit:a,id:t,title:r})},faceSwitch:function(e){return n["a"].post(o.a.FaceSwicth,e)},delFaceSwitch:function(e){return n["a"].del(o.a.FaceSwicth,{id:e})},faceSwitches:function(e,a){return n["a"].get(o.a.FaceSwicthes,{page:e,limit:a})},statistical:function(){return n["a"].get(o.a.Count)}};a["a"]=i},4185:function(e,a,t){},"8d81":function(e,a,t){var n;(function(r){"use strict";function o(e,a){var t=(65535&e)+(65535&a),n=(e>>16)+(a>>16)+(t>>16);return n<<16|65535&t}function i(e,a){return e<<a|e>>>32-a}function c(e,a,t,n,r,c){return o(i(o(o(a,e),o(n,c)),r),t)}function s(e,a,t,n,r,o,i){return c(a&t|~a&n,e,a,r,o,i)}function m(e,a,t,n,r,o,i){return c(a&n|t&~n,e,a,r,o,i)}function u(e,a,t,n,r,o,i){return c(a^t^n,e,a,r,o,i)}function d(e,a,t,n,r,o,i){return c(t^(a|~n),e,a,r,o,i)}function l(e,a){var t,n,r,i,c;e[a>>5]|=128<<a%32,e[14+(a+64>>>9<<4)]=a;var l=1732584193,f=-271733879,p=-1732584194,g=271733878;for(t=0;t<e.length;t+=16)n=l,r=f,i=p,c=g,l=s(l,f,p,g,e[t],7,-680876936),g=s(g,l,f,p,e[t+1],12,-389564586),p=s(p,g,l,f,e[t+2],17,606105819),f=s(f,p,g,l,e[t+3],22,-1044525330),l=s(l,f,p,g,e[t+4],7,-176418897),g=s(g,l,f,p,e[t+5],12,1200080426),p=s(p,g,l,f,e[t+6],17,-1473231341),f=s(f,p,g,l,e[t+7],22,-45705983),l=s(l,f,p,g,e[t+8],7,1770035416),g=s(g,l,f,p,e[t+9],12,-1958414417),p=s(p,g,l,f,e[t+10],17,-42063),f=s(f,p,g,l,e[t+11],22,-1990404162),l=s(l,f,p,g,e[t+12],7,1804603682),g=s(g,l,f,p,e[t+13],12,-40341101),p=s(p,g,l,f,e[t+14],17,-1502002290),f=s(f,p,g,l,e[t+15],22,1236535329),l=m(l,f,p,g,e[t+1],5,-165796510),g=m(g,l,f,p,e[t+6],9,-1069501632),p=m(p,g,l,f,e[t+11],14,643717713),f=m(f,p,g,l,e[t],20,-373897302),l=m(l,f,p,g,e[t+5],5,-701558691),g=m(g,l,f,p,e[t+10],9,38016083),p=m(p,g,l,f,e[t+15],14,-660478335),f=m(f,p,g,l,e[t+4],20,-405537848),l=m(l,f,p,g,e[t+9],5,568446438),g=m(g,l,f,p,e[t+14],9,-1019803690),p=m(p,g,l,f,e[t+3],14,-187363961),f=m(f,p,g,l,e[t+8],20,1163531501),l=m(l,f,p,g,e[t+13],5,-1444681467),g=m(g,l,f,p,e[t+2],9,-51403784),p=m(p,g,l,f,e[t+7],14,1735328473),f=m(f,p,g,l,e[t+12],20,-1926607734),l=u(l,f,p,g,e[t+5],4,-378558),g=u(g,l,f,p,e[t+8],11,-2022574463),p=u(p,g,l,f,e[t+11],16,1839030562),f=u(f,p,g,l,e[t+14],23,-35309556),l=u(l,f,p,g,e[t+1],4,-1530992060),g=u(g,l,f,p,e[t+4],11,1272893353),p=u(p,g,l,f,e[t+7],16,-155497632),f=u(f,p,g,l,e[t+10],23,-1094730640),l=u(l,f,p,g,e[t+13],4,681279174),g=u(g,l,f,p,e[t],11,-358537222),p=u(p,g,l,f,e[t+3],16,-722521979),f=u(f,p,g,l,e[t+6],23,76029189),l=u(l,f,p,g,e[t+9],4,-640364487),g=u(g,l,f,p,e[t+12],11,-421815835),p=u(p,g,l,f,e[t+15],16,530742520),f=u(f,p,g,l,e[t+2],23,-995338651),l=d(l,f,p,g,e[t],6,-198630844),g=d(g,l,f,p,e[t+7],10,1126891415),p=d(p,g,l,f,e[t+14],15,-1416354905),f=d(f,p,g,l,e[t+5],21,-57434055),l=d(l,f,p,g,e[t+12],6,1700485571),g=d(g,l,f,p,e[t+3],10,-1894986606),p=d(p,g,l,f,e[t+10],15,-1051523),f=d(f,p,g,l,e[t+1],21,-2054922799),l=d(l,f,p,g,e[t+8],6,1873313359),g=d(g,l,f,p,e[t+15],10,-30611744),p=d(p,g,l,f,e[t+6],15,-1560198380),f=d(f,p,g,l,e[t+13],21,1309151649),l=d(l,f,p,g,e[t+4],6,-145523070),g=d(g,l,f,p,e[t+11],10,-1120210379),p=d(p,g,l,f,e[t+2],15,718787259),f=d(f,p,g,l,e[t+9],21,-343485551),l=o(l,n),f=o(f,r),p=o(p,i),g=o(g,c);return[l,f,p,g]}function f(e){var a,t="",n=32*e.length;for(a=0;a<n;a+=8)t+=String.fromCharCode(e[a>>5]>>>a%32&255);return t}function p(e){var a,t=[];for(t[(e.length>>2)-1]=void 0,a=0;a<t.length;a+=1)t[a]=0;var n=8*e.length;for(a=0;a<n;a+=8)t[a>>5]|=(255&e.charCodeAt(a/8))<<a%32;return t}function g(e){return f(l(p(e),8*e.length))}function h(e,a){var t,n,r=p(e),o=[],i=[];for(o[15]=i[15]=void 0,r.length>16&&(r=l(r,8*e.length)),t=0;t<16;t+=1)o[t]=909522486^r[t],i[t]=1549556828^r[t];return n=l(o.concat(p(a)),512+8*a.length),f(l(i.concat(n),640))}function v(e){var a,t,n="0123456789abcdef",r="";for(t=0;t<e.length;t+=1)a=e.charCodeAt(t),r+=n.charAt(a>>>4&15)+n.charAt(15&a);return r}function _(e){return unescape(encodeURIComponent(e))}function b(e){return g(_(e))}function C(e){return v(b(e))}function y(e,a){return h(_(e),_(a))}function k(e,a){return v(y(e,a))}function D(e,a,t){return a?t?y(a,e):k(a,e):t?b(e):C(e)}n=function(){return D}.call(a,t,a,e),void 0===n||(e.exports=n)})()},"9f87":function(e,a,t){"use strict";t.r(a);var n=function(){var e=this,a=e.$createElement,t=e._self._c||a;return t("div",{directives:[{name:"loading",rawName:"v-loading",value:e.loading,expression:"loading"}],attrs:{"element-loading-text":"获取数据中"}},[t("div",{staticClass:"content-box"},[t("div",{staticClass:"content-box-left"},[t("div",{staticClass:"btn"},[t("el-button",{attrs:{type:"primary"},on:{click:e.addCommand}},[e._v("发送指令")])],1),e._m(0),t("div",{staticClass:"btn"},[t("el-input",{staticClass:"input-with-select",attrs:{placeholder:"输入设备号"},nativeOn:{keyup:function(a){return!a.type.indexOf("key")&&e._k(a.keyCode,"enter",13,a.key,"Enter")?null:e.search(e.uuid)}},model:{value:e.uuid,callback:function(a){e.uuid=a},expression:"uuid"}},[t("el-button",{attrs:{slot:"append",icon:"el-icon-search"},on:{click:function(a){return e.search(e.uuid)}},slot:"append"})],1)],1),t("div",{staticClass:"btn"},[t("el-button",{attrs:{type:"primary"},on:{click:e.resetSelect}},[e._v("重新筛选")])],1)]),t("div",{staticClass:"content-box-right"},[t("el-table",{attrs:{data:e.commandsData,stripe:"",border:"","header-cell-style":{background:"#f0f0f0",color:"#003366"},"max-height":700}},[t("el-table-column",{attrs:{prop:"id",label:"ID"}}),t("el-table-column",{attrs:{prop:"device_uuid",label:"设备ID",width:"200px"}}),t("el-table-column",{attrs:{prop:"command",label:"指令"}}),t("el-table-column",{attrs:{prop:"command_title",label:"指令名字"}}),t("el-table-column",{attrs:{prop:"state",label:"状态"},scopedSlots:e._u([{key:"default",fn:function(a){return["1"==a.row.state?t("span",[e._v("已创建")]):e._e(),"2"==a.row.state?t("span",[e._v("已下发")]):e._e(),"3"==a.row.state?t("span",[e._v("成功")]):e._e(),"4"==a.row.state?t("span",[e._v("失败")]):e._e()]}}])}),t("el-table-column",{attrs:{prop:"created_at",label:"下发时间",width:"200px"}}),t("el-table-column",{attrs:{prop:"updated_at",label:"更新时间",width:"200px"}}),t("el-table-column",{attrs:{label:"操作",prop:"data",width:"100px"},scopedSlots:e._u([{key:"default",fn:function(a){return[t("el-popover",{attrs:{placement:"right",width:"800",trigger:"click"}},[e._l(JSON.parse(a.row.data),(function(a,n){return t("el-row",{key:n,staticStyle:{padding:"10px"}},[e._v(" "+e._s(n)+": "+e._s(a)+" ")])})),t("el-button",{attrs:{slot:"reference",type:"text"},slot:"reference"},[e._v("查看内容")])],2)]}}])})],1),t("div",{staticClass:"block"},[t("el-pagination",{attrs:{"current-page":e.current,"page-sizes":[10,20,50,100,150,200,250,300],"page-size":e.size,layout:"sizes, prev, pager, next, jumper",total:e.total},on:{"current-change":e.currentPage,"update:currentPage":function(a){e.current=a},"update:current-page":function(a){e.current=a},"size-change":e.sizePage}})],1)],1)]),t("el-dialog",{attrs:{title:"发送指令",visible:e.dialogCommand},on:{"update:visible":function(a){e.dialogCommand=a},close:e.closeCommands}},[t("div",{staticClass:"btn"},[t("el-form",{attrs:{model:e.commandform,"label-width":"100px"}},[t("el-form-item",{attrs:{label:"请选择类型"}},[t("el-select",{attrs:{placeholder:"请选择类型"},on:{change:e.typeChange},model:{value:e.type,callback:function(a){e.type=a},expression:"type"}},e._l(e.typeList,(function(a,n){return t("el-option",{key:n,attrs:{label:e.typeList[n],value:n}})})),1)],1),t("el-form-item",{attrs:{label:"请选择省市区"}},[t("el-cascader",{attrs:{placeholder:"请选择省市区",options:e.cascaderData,props:e.props},on:{change:e.proChange},model:{value:e.pro_city_area,callback:function(a){e.pro_city_area=a},expression:"pro_city_area"}})],1),t("el-form-item",{attrs:{label:"设备uuid"}},[t("el-select",{attrs:{placeholder:"请选择uuid",filterable:""},on:{change:e.uuidChange},model:{value:e.command_uuid,callback:function(a){e.command_uuid=a},expression:"command_uuid"}},e._l(e.uuidList,(function(e,a){return t("el-option",{key:a,attrs:{label:e.uuid/e.remark,value:e.uuid}})})),1)],1),t("el-form-item",{attrs:{label:"指令"}},[t("el-select",{on:{change:e.changeCommand},model:{value:e.command,callback:function(a){e.command=a},expression:"command"}},e._l(e.commandList,(function(e,a){return t("el-option",{key:a,attrs:{label:e,value:a}})})),1)],1),"setPassword"===e.command?t("div",[t("el-form-item",{attrs:{label:"密码"}},[t("el-input",{attrs:{placeholder:"请输入密码"},model:{value:e.commandform.new_password,callback:function(a){e.$set(e.commandform,"new_password",a)},expression:"commandform.new_password"}})],1)],1):e._e(),"deleteUser"===e.command?t("div",[t("el-form-item",{attrs:{label:"FACE_ID"}},[t("el-input",{attrs:{placeholder:"请输入FACE_ID"},model:{value:e.commandform.face_id,callback:function(a){e.$set(e.commandform,"face_id",a)},expression:"commandform.face_id"}})],1)],1):e._e(),"addUser"===e.command?t("div",[t("el-form-item",{attrs:{label:"FACE_ID"}},[t("el-input",{attrs:{placeholder:"请输入FACE_ID"},model:{value:e.commandform.face_id,callback:function(a){e.$set(e.commandform,"face_id",a)},expression:"commandform.face_id"}})],1)],1):e._e(),"setUserAuthTime"===e.command?t("div",[t("el-form-item",{attrs:{label:"人脸生效时间"}},[t("el-date-picker",{attrs:{type:"datetimerange","range-separator":"至","start-placeholder":"开始日期","end-placeholder":"结束日期","value-format":e.valueFormatTime},on:{change:e.chooseTime},model:{value:e.userAuthTime,callback:function(a){e.userAuthTime=a},expression:"userAuthTime"}})],1),t("el-form-item",{attrs:{label:"FACE_ID"}},[t("el-input",{attrs:{placeholder:"请输入FACE_ID"},model:{value:e.commandform.face_id,callback:function(a){e.$set(e.commandform,"face_id",a)},expression:"commandform.face_id"}})],1)],1):e._e(),"upgrade"===e.command?t("div",[t("el-form-item",{attrs:{label:"固件地址"}},[t("el-input",{model:{value:e.commandform.url,callback:function(a){e.$set(e.commandform,"url",a)},expression:"commandform.url"}})],1)],1):e._e(),"setScreenSave"===e.command?t("div",[t("el-form-item",{attrs:{label:"屏保时间"}},[t("el-time-picker",{attrs:{"is-range":"","range-separator":"至","start-placeholder":"屏保开始时间","end-placeholder":"屏保结束时间",placeholder:"选择时间范围","value-format":e.timeScreen},on:{change:e.screenTimeChange},model:{value:e.screenTime,callback:function(a){e.screenTime=a},expression:"screenTime"}})],1),t("el-form-item",{attrs:{label:"图片切换间隔时间"}},[t("el-input-number",{on:{change:e.intervalTimeChange},model:{value:e.intervalTime,callback:function(a){e.intervalTime=a},expression:"intervalTime"}})],1),t("el-form-item",{attrs:{label:"人离开后进入屏保的时间"}},[t("el-input-number",{on:{change:e.leaveTimeChange},model:{value:e.leaveTime,callback:function(a){e.leaveTime=a},expression:"leaveTime"}})],1),t("el-form-item",{attrs:{label:"上传屏保图片"}},[t("el-upload",{ref:"upload",attrs:{action:"https://upload-z2.qiniup.com",limit:5,"before-upload":e.beforeAvatarUpload,"auto-upload":!1,"on-success":e.handleAvatarSuccess,"on-remove":e.handleRemove,"on-exceed":e.handleExceed,"on-change":e.handleChange,data:e.imgData,multiple:"","list-type":"picture-card"}},[t("el-button",{attrs:{size:"small",type:"primary"}},[e._v("选择图片")])],1)],1)],1):e._e(),t("div",{staticClass:"submit"},[t("el-button",{attrs:{type:"primary"},on:{click:e.sendCommand}},[e._v("发送")])],1)],1)],1)])],1)},r=[function(){var e=this,a=e.$createElement,t=e._self._c||a;return t("div",{staticClass:"btn"},[t("div",{staticClass:"tip"},[e._v("根据设备号筛选：")])])}],o=(t("99af"),t("7db0"),t("4160"),t("c975"),t("baa5"),t("b0c0"),t("159b"),t("365c")),i=t("bc3a"),c=t.n(i),s=t("8d81"),m=t.n(s),u={name:"gradems",data:function(){return{loading:!0,dialogCommand:!1,uuidList:[],typeList:[],type:"",uuid:"",command_uuid:"",command:"",commandform:{},def_commandform:{},commandsData:[],userAuthTime:[],valueFormatTime:"yyyy-MM-dd HH:mm:ss",more_data:"",commandList:[],imgData:{key:"",token:""},fileName:"",suffix:"",qiniuaddr:"https://tu.fengniaotuangou.cn",screenSaverList:[],screenTime:"",timeScreen:"HH:mm",intervalTime:0,leaveTime:"",screenFrom:{},submitChanner:!1,pro_city_area:[],pro_city_area_id:"",cascaderData:[],props:{label:"title",value:"id",lazy:!0,lazyLoad:function(e,a){var t=e.level;if(1==t){var n=e.data.id;o["a"].areas(1,100,n).then((function(e){var n=e.data;n.forEach((function(e){e.leaf=t>=3})),a(n)}))}if(2==t){var r=e.data.id;o["a"].areas(1,100,r).then((function(e){var n=e.data;n.forEach((function(e){e.leaf=t>=3})),a(n)}))}if(3==t){var i=e.data.id;o["a"].areas(1,100,i).then((function(e){var n=e.data;n.forEach((function(e){e.leaf=t>=3})),a(n)}))}}},current:1,size:10,total:0}},mounted:function(){this.getCommands(),this.getPro()},methods:{getCommands:function(){var e=this;o["a"].deviceCommands(1,10).then((function(a){e.loading=!1,e.commandsData=a.data,e.total=a.total})).catch((function(a){e.loading=!1}))},addCommand:function(){var e=this;e.dialogCommand=!0,o["a"].deviceTypes().then((function(a){e.typeList=a}))},typeChange:function(e){var a=this;a.getUUIDlist(e,a.pro_city_area_id)},getPro:function(){var e=this;o["a"].areas(1,100,0).then((function(a){e.cascaderData=a.data}))},proChange:function(e){var a=this;a.pro_city_area_id=e[3],a.getUUIDlist(a.type,a.pro_city_area_id)},getUUIDlist:function(e,a){var t=this;o["a"].devices(1,1e3,e,0,a).then((function(e){t.uuidList=e.data}))},uuidChange:function(e){var a=this;a.uuidList.find((function(t){t.uuid===e&&o["a"].commandsType(t.type).then((function(e){a.commandList=e}))}))},getCommandType:function(e){},search:function(){var e=this;o["a"].deviceCommands(1,e.size,e.uuid).then((function(a){e.loading=!1,e.commandsData=a.data,e.total=a.total,e.$message.success("搜索成功！")})).catch((function(a){e.loading=!1}))},chooseTime:function(e){console.log(this.userAuthTime)},screenTimeChange:function(e){var a=this;a.screenFrom.start=e[0],a.screenFrom.end=e[1]},intervalTimeChange:function(e){var a=this;a.screenFrom.interval_time=e},leaveTimeChange:function(e){var a=this;a.screenFrom.start_time=e},changeCommand:function(e){var a=this;switch(a.commandform={},a.command){case"setPassword":a.commandform={uuid:a.command_uuid,command:"setPassword",new_password:""};break;case"deleteUser":a.commandform={uuid:a.command_uuid,command:"deleteUser",face_id:""};break;case"addUser":a.commandform={uuid:a.command_uuid,command:"addUser",face_id:""};break;case"setUserAuthTime":a.commandform={uuid:a.command_uuid,command:"setUserAuthTime",auth_start_time:"",auth_end_time:"",face_id:""};break;case"upgrade":a.commandform={uuid:a.command_uuid,command:"upgrade",url:""};break;case"setScreenSave":a.screenFrom.uuid=a.command_uuid,a.screenFrom.command="setScreenSave",console.log(a.screenFrom);break;default:a.def_commandform={uuid:a.command_uuid,command:a.command},console.log(a.def_commandform)}},sendCommand:function(){var e=this;if(e.command)switch(e.command){case"setPassword":o["a"].sendDeviceCommand(e.commandform).then((function(a){e.$message.success("发送成功"),e.command_uuid="",e.command="",e.type="",e.dialogCommand=!1,e.getCommands()}));break;case"deleteUser":o["a"].sendDeviceCommand(e.commandform).then((function(a){e.$message.success("发送成功"),e.command_uuid="",e.command="",e.type="",e.commandform.face_id="",e.dialogCommand=!1,e.getCommands()}));break;case"addUser":o["a"].sendDeviceCommand(e.commandform).then((function(a){e.$message.success("发送成功"),e.command_uuid="",e.command="",e.type="",e.commandform.face_id="",e.dialogCommand=!1,e.getCommands()}));break;case"setUserAuthTime":e.commandform.auth_start_time=e.userAuthTime[0],e.commandform.auth_end_time=e.userAuthTime[1],o["a"].sendDeviceCommand(e.commandform).then((function(a){e.$message.success("发送成功"),e.command_uuid="",e.command="",e.type="",e.commandform.face_id="",e.dialogCommand=!1,e.getCommands()}));break;case"upgrade":o["a"].sendDeviceCommand(e.commandform).then((function(a){e.$message.success("发送成功"),e.command_uuid="",e.command="",e.url="",e.dialogCommand=!1,e.getCommands()}));break;case"setScreenSave":console.log(e.screenFrom),console.log(e.submitChanner),e.submitChanner?(e.$refs.upload.submit(),o["a"].sendDeviceCommand(e.screenFrom).then((function(a){e.$message.success("发送成功"),e.command_uuid="",e.command="",e.screenTime="",e.intervalTime=0,e.leaveTime="",e.screenFrom={},e.screenSaverList=[],e.dialogCommand=!1,e.getCommands()}))):o["a"].sendDeviceCommand(e.screenFrom).then((function(a){e.$message.success("发送成功"),e.command_uuid="",e.command="",e.screenTime="",e.intervalTime=0,e.leaveTime="",e.screenFrom={},e.dialogCommand=!1,e.getCommands()}));break;default:o["a"].sendDeviceCommand(e.def_commandform).then((function(a){e.$message.success("发送成功"),e.command_uuid="",e.command="",e.type="",e.dialogCommand=!1,e.getCommands()}))}else e.$message.warning("请选择指令！")},closeCommands:function(){var e=this;e.command_uuid="",e.command=""},getQiniuToken:function(){var e=this;c.a.get("https://api.fengniaotuangou.cn/api/upload/token").then((function(a){e.imgData.token=a.data.uptoken}))},handleRemove:function(e,a){console.log(e,a),0==a.length&&(self.submitChanner=!1)},handleChange:function(e,a){var t=this;console.log(e,a),a.length>0&&(t.submitChanner=!0)},beforeAvatarUpload:function(e,a){var t=this;console.log(e,a),t.getQiniuToken(),t.fileName=m()(e.name),t.suffix=e.name.substring(e.name.lastIndexOf(".")+1),t.imgData.key="tmp_".concat(t.fileName,".").concat(t.suffix);var n=[];if(t.imgData.key){t.screenSaverList.push("".concat(t.qiniuaddr,"/").concat(t.imgData.key));for(var r=0;r<t.screenSaverList.length;r++)-1===n.indexOf(t.screenSaverList[r])&&n.push(t.screenSaverList[r])}for(var o=0;o<n.length;o++)0==o?t.screenFrom.image_1=t.screenSaverList[o]:1==o?t.screenFrom.image_2=t.screenSaverList[o]:2==o?t.screenFrom.image_3=t.screenSaverList[o]:3==o?t.screenFrom.image_4=t.screenSaverList[o]:4==o&&(t.screenFrom.image_5=t.screenSaverList[o]),console.log(t.screenFrom)},handleAvatarSuccess:function(e,a,t){console.log(111,e),console.log(222,t)},handleExceed:function(){var e=this;e.$message.error("上传图片不能超过5张")},resetSelect:function(){window.location.reload()},currentPage:function(e){var a=this;a.loading=!0,a.current=e,o["a"].deviceCommands(e,a.size,a.uuid).then((function(e){a.loading=!1,a.commandsData=e.data,a.total=e.total})).catch((function(e){a.loading=!1}))},sizePage:function(e){var a=this;a.loading=!0,a.size=e,o["a"].deviceCommands(a.current,e,a.uuid).then((function(e){a.loading=!1,a.commandsData=e.data,a.total=e.total})).catch((function(e){a.loading=!1}))}},beforeDestroy:function(){clearInterval(this.timer)}},d=u,l=(t("1146d"),t("2877")),f=Object(l["a"])(d,n,r,!1,null,"38af5e74",null);a["default"]=f.exports},baa5:function(e,a,t){var n=t("23e7"),r=t("e58c");n({target:"Array",proto:!0,forced:r!==[].lastIndexOf},{lastIndexOf:r})},c975:function(e,a,t){"use strict";var n=t("23e7"),r=t("4d64").indexOf,o=t("a640"),i=t("ae40"),c=[].indexOf,s=!!c&&1/[1].indexOf(1,-0)<0,m=o("indexOf"),u=i("indexOf",{ACCESSORS:!0,1:0});n({target:"Array",proto:!0,forced:s||!m||!u},{indexOf:function(e){return s?c.apply(this,arguments)||0:r(this,e,arguments.length>1?arguments[1]:void 0)}})},e58c:function(e,a,t){"use strict";var n=t("fc6a"),r=t("a691"),o=t("50c4"),i=t("a640"),c=t("ae40"),s=Math.min,m=[].lastIndexOf,u=!!m&&1/[1].lastIndexOf(1,-0)<0,d=i("lastIndexOf"),l=c("indexOf",{ACCESSORS:!0,1:0}),f=u||!d||!l;e.exports=f?function(e){if(u)return m.apply(this,arguments)||0;var a=n(this),t=o(a.length),i=t-1;for(arguments.length>1&&(i=s(i,r(arguments[1]))),i<0&&(i=t+i);i>=0;i--)if(i in a&&a[i]===e)return i||0;return-1}:m}}]);
//# sourceMappingURL=chunk-1f0eff1c.1607412499925.js.map