(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-58d3b970"],{"12c9":function(e,a,t){"use strict";var n=t("d1a9"),i=t.n(n);i.a},"365c":function(e,a,t){"use strict";var n=t("ade3"),i=t("be3b"),r=t("99b1"),c=t.n(r),s={aip:function(e){return i["a"].post(c.a.Aip,e)},delAip:function(e){return i["a"].del(c.a.Aip,{id:e})},aips:function(e,a){return i["a"].get(c.a.Aips,{page:e,limit:a})},apk:function(e){return i["a"].post(c.a.Apk,e)},apks:function(e,a){return i["a"].get(c.a.Apks,{page:e,limit:a})},apkVersion:function(e){return i["a"].post(c.a.ApkVersion,e)},apkVersions:function(e,a,t){return i["a"].get(c.a.ApkVersions,{page:e,limit:a,apk_id:t})},_apkVersions:function(e){return i["a"].get(c.a.ApkVersions,{id:e})},publishApk:function(e){return i["a"].post(c.a.PublishApk,e)},project:function(e){return i["a"].post(c.a.Project,e)},projects:function(e,a){return i["a"].get(c.a.Projects,{page:e,limit:a})},address:function(e){return i["a"].post(c.a.Address,e)},getaddress:function(e){return i["a"].get(c.a.Address,{id:e})},addresses:function(e,a,t,n,r){return i["a"].get(c.a.Addresses,{page:e,limit:a,project_id:t,area_id:n,address:r})},addressTypes:function(e,a){return i["a"].get(c.a.AddressTypes,{page:e,limit:a})},addressesMap:function(e,a,t){return i["a"].get(c.a.Addresses,{page:e,limit:a,type:t})},face:function(e){return i["a"].post(c.a.Face,e)},faces:function(e,a,t){return i["a"].get(c.a.Faces,{page:e,limit:a,name:t})},searchFace:function(e){return i["a"].post(c.a.SearchImageFace,e)},pushRecords:function(e,a,t,n){return i["a"].get(c.a.PushRecords,{page:e,limit:a,name:t,address:n})},pushRecordCommands:function(e){return i["a"].get(c.a.PushRecordCommands,{id:e})},againPush:function(e){return i["a"].post(c.a.PushRecord,e)},areas:function(e,a,t){return i["a"].get(c.a.Areas,{page:e,limit:a,parent_id:t})},area:function(e){return i["a"].post(c.a.Area,e)},device:function(e){return i["a"].post(c.a.Device,e)},_device:function(e){return i["a"].get(c.a.Device,{uuid:e})},devices:function(e,a,t,n,r,s,o,u){return i["a"].get(c.a.Devices,{page:e,limit:a,type:t,uuid:n,area_id:r,address_id:s,online:o,address:u})},_devices:function(e,a,t){return i["a"].get(c.a.Devices,{direction:e,addresses:a,limit:t})},deviceLogs:function(e,a,t,n){return i["a"].get(c.a.DeviceLogs,{page:e,limit:a,uuid:t,type:n})},deviceFaceLogs:function(e,a,t,n,r,s){return i["a"].get(c.a.DeviceRecord,{page:e,limit:a,uuid:t,search:n,area_id:r,address_id:s})},searchFaceLogs:function(e,a,t){return i["a"].get(c.a.DeviceRecord,{page:e,limit:a,faces:t})},deviceTypes:function(){return i["a"].get(c.a.DeviceTypes)},deviceHeart:function(e){return i["a"].get(c.a.DeviceHeartbeat,{uuid:e})},deviceCommands:function(e,a,t){return i["a"].get(c.a.DeviceCommands,{page:e,limit:a,uuid:t})},commandsType:function(e){return i["a"].get(c.a.Commands,{type:e})},sendDeviceCommand:function(e){return i["a"].post(c.a.SendDeviceCommand,e)},resetCommand:function(e){return i["a"].get(c.a.RestartDeviceCommands,{uuid:e})},catchFace:function(e){return i["a"].get(c.a.CatchFaces,{id:e})},deviceUserList:function(e,a,t){return i["a"].get(c.a.DeviceUserList,{page:e,limit:a,uuid:t})},faceGroup:function(e){return i["a"].get(c.a.FaceGroup,{address_id:e})},uuid:function(e,a){return i["a"].get(c.a.Uuid,{page:e,limit:a})},dangerFace:function(e){return i["a"].post(c.a.DangerFace,e)},importHistory:function(e,a,t){return i["a"].get(c.a.ImportTasks,{page:e,limit:a,state:t})},delDangerFace:function(e){return i["a"].del(c.a.DelDangerFace,{id:e})},dangerFaces:function(e,a){return i["a"].get(c.a.DangerFaces,{page:e,limit:a})},personVerifies:function(e,a,t,n){return i["a"].get(c.a.PersonVerifies,{page:e,limit:a,search:t,state:n})},dangerLogs:function(e,a,t,n){return i["a"].get(c.a.DangerLogs,{page:e,limit:a,danger_id:t,address:n})},alert:function(e,a,t,n,r,s,o,u,d){return i["a"].get(c.a.DangerAlerts,{page:e,limit:a,state:t,search:n,dangers:r,alert_type:s,start:o,end:u,danger_type:d})},handleAlerts:function(e){return i["a"].post(c.a.HandleAlerts,{results:e})},dangerTypes:function(){return i["a"].get(c.a.DangerTypes,{})},notifyChange:function(e){return i["a"].post(c.a.ChangeDangerFace,e)},roles:function(e,a){return i["a"].get(c.a.Roles,{page:e,limit:a})},oneRole:function(e){return i["a"].get(c.a.Role,{name:e})},role:function(e){return i["a"].post(c.a.Role,e)},users:function(e,a){return i["a"].get(c.a.Users,{page:e,limit:a})},user:function(e){return i["a"].post(c.a.User,e)},policeLevel:function(e){return i["a"].post(c.a.PoliceLevel,e)},policeLevels:function(e,a,t,n){return i["a"].get(c.a.PoliceLevels,{page:e,limit:a,level:t,parent_id:n})},policeman:function(e){return i["a"].post(c.a.Policeman,e)},policemen:function(e,a,t,n,r,s){return i["a"].get(c.a.Policemen,{page:e,limit:a,station_id:t,department_id:n,state:r,search:s})},audit:function(e){return i["a"].post(c.a.PassPoliceman,e)},delPolice:function(e){return i["a"].del(c.a.Policeman,{id:e})},screenSaver:function(e){return i["a"].post(c.a.screenSaver,e)},screenSavers:function(e,a){return i["a"].get(c.a.screenSavers,{page:e,limit:a})},delScreenSaver:function(e){return i["a"].del(c.a.screenSaver,Object(n["a"])({id:e},"id",e))},issueScreenSaver:function(e){return i["a"].post(c.a.publishScreenSavers,e)},policeStation:function(e){return i["a"].post(c.a.PoliceStation,e)},policeStations:function(e,a,t){return i["a"].get(c.a.PoliceStations,{page:e,limit:a,name:t})},information:function(e){return i["a"].post(c.a.Information,e)},informations:function(e,a,t,n){return i["a"].get(c.a.Information,{page:e,limit:a,id:t,title:n})},faceSwitch:function(e){return i["a"].post(c.a.FaceSwicth,e)},delFaceSwitch:function(e){return i["a"].del(c.a.FaceSwicth,{id:e})},faceSwitches:function(e,a){return i["a"].get(c.a.FaceSwicthes,{page:e,limit:a})},statistical:function(){return i["a"].get(c.a.Count)}};a["a"]=s},"46fa":function(e,a,t){"use strict";t.r(a);var n=function(){var e=this,a=e.$createElement,t=e._self._c||a;return t("div",{directives:[{name:"loading",rawName:"v-loading",value:e.loading,expression:"loading"}],attrs:{"element-loading-text":"加载中"}},[t("div",{staticClass:"content-box"},[t("div",{staticClass:"content-box-left"},[e._m(0),t("div",{staticClass:"btn"},[t("el-input",{staticClass:"input-with-select",attrs:{placeholder:"输入设备号"},nativeOn:{keyup:function(a){return!a.type.indexOf("key")&&e._k(a.keyCode,"enter",13,a.key,"Enter")?null:e.search(e.uuid)}},model:{value:e.uuid,callback:function(a){e.uuid=a},expression:"uuid"}},[t("el-button",{attrs:{slot:"append",icon:"el-icon-search"},on:{click:function(a){return e.search(e.uuid)}},slot:"append"})],1)],1),e._m(1),t("div",{staticClass:"btn"},[t("el-input",{staticClass:"input-with-select",attrs:{placeholder:"输入姓名"},nativeOn:{keyup:function(a){return!a.type.indexOf("key")&&e._k(a.keyCode,"enter",13,a.key,"Enter")?null:e.search(e.name)}},model:{value:e.name,callback:function(a){e.name=a},expression:"name"}},[t("el-button",{attrs:{slot:"append",icon:"el-icon-search"},on:{click:function(a){return e.search(e.name)}},slot:"append"})],1)],1),e._m(2),t("div",{staticClass:"btn"},[t("el-cascader",{attrs:{placeholder:"请选择省市区",options:e.cascaderData,props:e.props},on:{change:e.proChange},model:{value:e.pro_city_area,callback:function(a){e.pro_city_area=a},expression:"pro_city_area"}})],1),t("div",{staticClass:"btn"},[t("el-select",{attrs:{placeholder:"请选择地址",filterable:""},on:{change:e.areaAddressChange},model:{value:e.area_address_id,callback:function(a){e.area_address_id=a},expression:"area_address_id"}},e._l(e.area_address_List,(function(e,a){return t("el-option",{key:a,attrs:{label:e.address,value:e.id}})})),1)],1),t("div",{staticClass:"btn"},[t("el-select",{attrs:{placeholder:"请选择设备号",filterable:""},on:{change:e.addressUUIDChange},model:{value:e.address_uuid,callback:function(a){e.address_uuid=a},expression:"address_uuid"}},e._l(e.address_uuid_list,(function(e,a){return t("el-option",{key:a,attrs:{label:e.uuid+"/"+e.remark,value:e.uuid}})})),1)],1),t("div",{staticClass:"btn"},[t("el-button",{attrs:{type:"primary"},on:{click:e.resetSelect}},[e._v("重新筛选")])],1)]),t("div",{staticClass:"content-box-right"},[t("el-table",{attrs:{data:e.faceLogsTable,stripe:"",border:"","header-cell-style":{background:"#f0f0f0",color:"#003366"},"max-height":"700"}},[t("el-table-column",{attrs:{prop:"id",label:"ID"}}),t("el-table-column",{attrs:{prop:"device_uuid",label:"设备ID",width:"300px"}}),t("el-table-column",{attrs:{prop:"device.remark",label:"备注",width:"200px"}}),t("el-table-column",{attrs:{prop:"face.name",label:"名称",width:"150px"}}),t("el-table-column",{attrs:{prop:"time",label:"时间",width:"200px"}}),t("el-table-column",{attrs:{prop:"temp",label:"温度",width:"100px"}}),t("el-table-column",{attrs:{prop:"face_id",label:"人脸ID",width:"200px"}}),t("el-table-column",{attrs:{prop:"image",label:"人脸图片",width:"200px"},scopedSlots:e._u([{key:"default",fn:function(e){return[t("el-popover",{attrs:{placement:"top-start",title:"",trigger:"click"}},[t("img",{staticStyle:{"max-width":"800px","max-height":"800px"},attrs:{src:e.row.image}}),t("img",{staticStyle:{"max-width":"180px","max-height":"80px"},attrs:{slot:"reference",src:e.row.image},slot:"reference"})])]}}])}),t("el-table-column",{attrs:{label:"操作",fixed:"right",width:"100px"},scopedSlots:e._u([{key:"default",fn:function(a){return[t("el-button",{attrs:{type:"text"},on:{click:function(t){return e.handleCatchFace(a.$index,a.row)}}},[e._v("查看人像")])]}}])})],1),t("div",{staticClass:"block"},[t("el-pagination",{attrs:{"current-page":e.current,"page-sizes":[10,20,50,100,150,200,250,300],"page-size":e.size,layout:"sizes, prev, pager, next, jumper",total:e.total},on:{"current-change":e.currentPage,"update:currentPage":function(a){e.current=a},"update:current-page":function(a){e.current=a},"size-change":e.sizePage}})],1)],1)]),t("el-dialog",{attrs:{title:"查看人像",visible:e.dialogCatchFace,width:"400px"},on:{"update:visible":function(a){e.dialogCatchFace=a}}},[t("div",{staticClass:"box",staticStyle:{display:"flex","flex-wrap":"wrap"}},e._l(e.catchFaceList,(function(e,a){return t("div",{key:a},[t("img",{staticStyle:{"max-width":"200px","max-height":"200px","margin-left":"20px"},attrs:{src:e.face_img}})])})),0)])],1)},i=[function(){var e=this,a=e.$createElement,t=e._self._c||a;return t("div",{staticClass:"btn"},[t("div",{staticClass:"tip"},[e._v("根据设备号筛选：")])])},function(){var e=this,a=e.$createElement,t=e._self._c||a;return t("div",{staticClass:"btn"},[t("div",{staticClass:"tip"},[e._v("根据姓名或身份证筛选：")])])},function(){var e=this,a=e.$createElement,t=e._self._c||a;return t("div",{staticClass:"btn"},[t("div",{staticClass:"tip"},[e._v("根据省市区筛选地址设备号：")])])}],r=(t("4160"),t("b0c0"),t("159b"),t("365c")),c={name:"gradems",data:function(){return{loading:!0,uuid:"",name:"",faceLogsTable:[],dialogCatchFace:!1,catchFaceList:[],current:1,size:10,total:0,pro_city_area:[],pro_city_area_id:"",cascaderData:[],props:{label:"title",value:"id",lazy:!0,lazyLoad:function(e,a){var t=e.level;if(1==t){var n=e.data.id;r["a"].areas(1,100,n).then((function(e){var n=e.data;n.forEach((function(e){e.leaf=t>=3})),a(n)}))}if(2==t){var i=e.data.id;r["a"].areas(1,100,i).then((function(e){var n=e.data;n.forEach((function(e){e.leaf=t>=3})),a(n)}))}if(3==t){var c=e.data.id;r["a"].areas(1,100,c).then((function(e){var n=e.data;n.forEach((function(e){e.leaf=t>=3})),a(n)}))}}},area_address_List:[],area_address_id:"",address_uuid:"",address_uuid_list:[]}},mounted:function(){this.getLogs(),this.getPro()},methods:{getPro:function(){var e=this;r["a"].areas(1,100,0).then((function(a){e.cascaderData=a.data}))},proChange:function(e){var a=this;a.current=1,a.loading=!0,a.pro_city_area_id=e[3],r["a"].deviceFaceLogs(1,a.size,a.uuid,a.name,a.pro_city_area_id,a.area_address_id).then((function(e){a.loading=!1,a.faceLogsTable=e.data,a.total=e.total})).catch((function(e){a.loading=!1})),r["a"].addresses(1,100,"",a.pro_city_area_id).then((function(e){a.loading=!1,a.area_address_List=e.data})).catch((function(e){a.loading=!1}))},areaAddressChange:function(e){var a=this;a.current=1,a.loading=!0,r["a"].deviceFaceLogs(1,a.size,a.uuid,a.name,a.pro_city_area_id,e).then((function(e){a.faceLogsTable=e.data,a.total=e.total,a.loading=!1})).catch((function(e){a.loading=!1})),a.getDeviceList(e)},getDeviceList:function(e){var a=this;a.loading=!0,a.current=1,r["a"].devices(1,a.size,"","","",a.area_address_id).then((function(e){a.loading=!1,a.address_uuid_list=e.data,a.total=e.total})).catch((function(e){a.loading=!1}))},addressUUIDChange:function(e){var a=this;a.loading=!0,a.current=1,r["a"].deviceFaceLogs(1,a.size,e,a.name,a.pro_city_area_id,a.area_address_id).then((function(e){a.loading=!1,a.faceLogsTable=e.data,a.total=e.total,a.$message.success("搜索成功！")})).catch((function(e){a.loading=!1}))},search:function(){var e=this;e.loading=!0,e.current=1,r["a"].deviceFaceLogs(1,e.size,e.uuid,e.name,e.pro_city_area_id,e.area_address_id).then((function(a){e.loading=!1,e.faceLogsTable=a.data,e.total=a.total,e.$message.success("搜索成功！")})).catch((function(a){e.loading=!1}))},getLogs:function(){var e=this;r["a"].deviceFaceLogs(1,10).then((function(a){e.loading=!1,e.faceLogsTable=a.data,e.total=a.total})).catch((function(a){e.loading=!1}))},handleCatchFace:function(e,a){var t=this;r["a"].catchFace(a.id).then((function(e){t.catchFaceList=e,0==t.catchFaceList.length?t.$message.info("暂无人像图片！"):t.dialogCatchFace=!0}))},resetSelect:function(){window.location.reload()},currentPage:function(e){var a=this;a.loading=!0,a.current=e,r["a"].deviceFaceLogs(e,a.size,a.uuid,a.name,a.pro_city_area_id,a.area_address_id).then((function(e){a.loading=!1,a.faceLogsTable=e.data,a.total=e.total})).catch((function(e){a.loading=!1}))},sizePage:function(e){var a=this;a.loading=!0,a.size=e,r["a"].deviceFaceLogs(a.current,e,a.uuid,a.name,a.pro_city_area_id,a.area_address_id).then((function(e){a.loading=!1,a.faceLogsTable=e.data,a.total=e.total})).catch((function(e){a.loading=!1}))}}},s=c,o=(t("12c9"),t("2877")),u=Object(o["a"])(s,n,i,!1,null,"95d5f392",null);a["default"]=u.exports},d1a9:function(e,a,t){}}]);
//# sourceMappingURL=chunk-58d3b970.1608790048548.js.map