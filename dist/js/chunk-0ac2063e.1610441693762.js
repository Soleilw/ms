(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-0ac2063e","chunk-2d225891"],{"365c":function(e,t,n){"use strict";var a=n("ade3"),r=n("be3b"),i=n("99b1"),s=n.n(i),o={aip:function(e){return r["a"].post(s.a.Aip,e)},delAip:function(e){return r["a"].del(s.a.Aip,{id:e})},aips:function(e,t){return r["a"].get(s.a.Aips,{page:e,limit:t})},apk:function(e){return r["a"].post(s.a.Apk,e)},apks:function(e,t){return r["a"].get(s.a.Apks,{page:e,limit:t})},apkVersion:function(e){return r["a"].post(s.a.ApkVersion,e)},apkVersions:function(e,t,n){return r["a"].get(s.a.ApkVersions,{page:e,limit:t,apk_id:n})},_apkVersions:function(e){return r["a"].get(s.a.ApkVersions,{id:e})},publishApk:function(e){return r["a"].post(s.a.PublishApk,e)},project:function(e){return r["a"].post(s.a.Project,e)},projects:function(e,t){return r["a"].get(s.a.Projects,{page:e,limit:t})},address:function(e){return r["a"].post(s.a.Address,e)},getaddress:function(e){return r["a"].get(s.a.Address,{id:e})},addresses:function(e,t,n,a,i){return r["a"].get(s.a.Addresses,{page:e,limit:t,project_id:n,area_id:a,address:i})},addressTypes:function(e,t){return r["a"].get(s.a.AddressTypes,{page:e,limit:t})},addressesMap:function(e,t,n){return r["a"].get(s.a.Addresses,{page:e,limit:t,type:n})},face:function(e){return r["a"].post(s.a.Face,e)},faces:function(e,t,n){return r["a"].get(s.a.Faces,{page:e,limit:t,name:n})},searchFace:function(e){return r["a"].post(s.a.SearchImageFace,e)},pushRecords:function(e,t,n,a){return r["a"].get(s.a.PushRecords,{page:e,limit:t,name:n,address:a})},pushRecordCommands:function(e){return r["a"].get(s.a.PushRecordCommands,{id:e})},againPush:function(e){return r["a"].post(s.a.PushRecord,e)},areas:function(e,t,n){return r["a"].get(s.a.Areas,{page:e,limit:t,parent_id:n})},area:function(e){return r["a"].post(s.a.Area,e)},device:function(e){return r["a"].post(s.a.Device,e)},_device:function(e){return r["a"].get(s.a.Device,{uuid:e})},devices:function(e,t,n,a,i,o,c,l){return r["a"].get(s.a.Devices,{page:e,limit:t,type:n,uuid:a,area_id:i,address_id:o,online:c,address:l})},_devices:function(e,t,n){return r["a"].get(s.a.Devices,{direction:e,addresses:t,limit:n})},deviceLogs:function(e,t,n,a){return r["a"].get(s.a.DeviceLogs,{page:e,limit:t,uuid:n,type:a})},deviceFaceLogs:function(e,t,n,a,i,o){return r["a"].get(s.a.DeviceRecord,{page:e,limit:t,uuid:n,search:a,area_id:i,address_id:o})},searchFaceLogs:function(e,t,n){return r["a"].get(s.a.DeviceRecord,{page:e,limit:t,faces:n})},deviceTypes:function(){return r["a"].get(s.a.DeviceTypes)},deviceHeart:function(e){return r["a"].get(s.a.DeviceHeartbeat,{uuid:e})},deviceCommands:function(e,t,n){return r["a"].get(s.a.DeviceCommands,{page:e,limit:t,uuid:n})},commandsType:function(e){return r["a"].get(s.a.Commands,{type:e})},sendDeviceCommand:function(e){return r["a"].post(s.a.SendDeviceCommand,e)},resetCommand:function(e){return r["a"].get(s.a.RestartDeviceCommands,{uuid:e})},catchFace:function(e){return r["a"].get(s.a.CatchFaces,{id:e})},deviceUserList:function(e,t,n){return r["a"].get(s.a.DeviceUserList,{page:e,limit:t,uuid:n})},faceGroup:function(e){return r["a"].get(s.a.FaceGroup,{address_id:e})},uuid:function(e,t){return r["a"].get(s.a.Uuid,{page:e,limit:t})},dangerFace:function(e){return r["a"].post(s.a.DangerFace,e)},importHistory:function(e,t,n){return r["a"].get(s.a.ImportTasks,{page:e,limit:t,state:n})},delDangerFace:function(e){return r["a"].del(s.a.DelDangerFace,{id:e})},dangerFaces:function(e,t){return r["a"].get(s.a.DangerFaces,{page:e,limit:t})},personVerifies:function(e,t,n,a){return r["a"].get(s.a.PersonVerifies,{page:e,limit:t,search:n,state:a})},dangerLogs:function(e,t,n,a){return r["a"].get(s.a.DangerLogs,{page:e,limit:t,danger_id:n,address:a})},alert:function(e,t,n,a,i,o,c,l,d){return r["a"].get(s.a.DangerAlerts,{page:e,limit:t,state:n,search:a,dangers:i,alert_type:o,start:c,end:l,danger_type:d})},handleAlerts:function(e){return r["a"].post(s.a.HandleAlerts,{results:e})},dangerTypes:function(){return r["a"].get(s.a.DangerTypes,{})},notifyChange:function(e){return r["a"].post(s.a.ChangeDangerFace,e)},roles:function(e,t){return r["a"].get(s.a.Roles,{page:e,limit:t})},oneRole:function(e){return r["a"].get(s.a.Role,{name:e})},role:function(e){return r["a"].post(s.a.Role,e)},users:function(e,t){return r["a"].get(s.a.Users,{page:e,limit:t})},user:function(e){return r["a"].post(s.a.User,e)},policeLevel:function(e){return r["a"].post(s.a.PoliceLevel,e)},policeLevels:function(e,t,n,a){return r["a"].get(s.a.PoliceLevels,{page:e,limit:t,level:n,parent_id:a})},policeman:function(e){return r["a"].post(s.a.Policeman,e)},policemen:function(e,t,n,a,i,o){return r["a"].get(s.a.Policemen,{page:e,limit:t,station_id:n,department_id:a,state:i,search:o})},audit:function(e){return r["a"].post(s.a.PassPoliceman,e)},delPolice:function(e){return r["a"].del(s.a.Policeman,{id:e})},screenSaver:function(e){return r["a"].post(s.a.screenSaver,e)},screenSavers:function(e,t){return r["a"].get(s.a.screenSavers,{page:e,limit:t})},delScreenSaver:function(e){return r["a"].del(s.a.screenSaver,Object(a["a"])({id:e},"id",e))},issueScreenSaver:function(e){return r["a"].post(s.a.publishScreenSavers,e)},policeStation:function(e){return r["a"].post(s.a.PoliceStation,e)},policeStations:function(e,t,n){return r["a"].get(s.a.PoliceStations,{page:e,limit:t,name:n})},information:function(e){return r["a"].post(s.a.Information,e)},informations:function(e,t,n,a){return r["a"].get(s.a.Information,{page:e,limit:t,id:n,title:a})},faceSwitch:function(e){return r["a"].post(s.a.FaceSwicth,e)},delFaceSwitch:function(e){return r["a"].del(s.a.FaceSwicth,{id:e})},faceSwitches:function(e,t){return r["a"].get(s.a.FaceSwicthes,{page:e,limit:t})},statistical:function(){return r["a"].get(s.a.Count)},currentDay:function(){return r["a"].get(s.a.CountOpenRecord)}};t["a"]=o},"8d81":function(e,t,n){var a;(function(r){"use strict";function i(e,t){var n=(65535&e)+(65535&t),a=(e>>16)+(t>>16)+(n>>16);return a<<16|65535&n}function s(e,t){return e<<t|e>>>32-t}function o(e,t,n,a,r,o){return i(s(i(i(t,e),i(a,o)),r),n)}function c(e,t,n,a,r,i,s){return o(t&n|~t&a,e,t,r,i,s)}function l(e,t,n,a,r,i,s){return o(t&a|n&~a,e,t,r,i,s)}function d(e,t,n,a,r,i,s){return o(t^n^a,e,t,r,i,s)}function u(e,t,n,a,r,i,s){return o(n^(t|~a),e,t,r,i,s)}function m(e,t){var n,a,r,s,o;e[t>>5]|=128<<t%32,e[14+(t+64>>>9<<4)]=t;var m=1732584193,f=-271733879,g=-1732584194,p=271733878;for(n=0;n<e.length;n+=16)a=m,r=f,s=g,o=p,m=c(m,f,g,p,e[n],7,-680876936),p=c(p,m,f,g,e[n+1],12,-389564586),g=c(g,p,m,f,e[n+2],17,606105819),f=c(f,g,p,m,e[n+3],22,-1044525330),m=c(m,f,g,p,e[n+4],7,-176418897),p=c(p,m,f,g,e[n+5],12,1200080426),g=c(g,p,m,f,e[n+6],17,-1473231341),f=c(f,g,p,m,e[n+7],22,-45705983),m=c(m,f,g,p,e[n+8],7,1770035416),p=c(p,m,f,g,e[n+9],12,-1958414417),g=c(g,p,m,f,e[n+10],17,-42063),f=c(f,g,p,m,e[n+11],22,-1990404162),m=c(m,f,g,p,e[n+12],7,1804603682),p=c(p,m,f,g,e[n+13],12,-40341101),g=c(g,p,m,f,e[n+14],17,-1502002290),f=c(f,g,p,m,e[n+15],22,1236535329),m=l(m,f,g,p,e[n+1],5,-165796510),p=l(p,m,f,g,e[n+6],9,-1069501632),g=l(g,p,m,f,e[n+11],14,643717713),f=l(f,g,p,m,e[n],20,-373897302),m=l(m,f,g,p,e[n+5],5,-701558691),p=l(p,m,f,g,e[n+10],9,38016083),g=l(g,p,m,f,e[n+15],14,-660478335),f=l(f,g,p,m,e[n+4],20,-405537848),m=l(m,f,g,p,e[n+9],5,568446438),p=l(p,m,f,g,e[n+14],9,-1019803690),g=l(g,p,m,f,e[n+3],14,-187363961),f=l(f,g,p,m,e[n+8],20,1163531501),m=l(m,f,g,p,e[n+13],5,-1444681467),p=l(p,m,f,g,e[n+2],9,-51403784),g=l(g,p,m,f,e[n+7],14,1735328473),f=l(f,g,p,m,e[n+12],20,-1926607734),m=d(m,f,g,p,e[n+5],4,-378558),p=d(p,m,f,g,e[n+8],11,-2022574463),g=d(g,p,m,f,e[n+11],16,1839030562),f=d(f,g,p,m,e[n+14],23,-35309556),m=d(m,f,g,p,e[n+1],4,-1530992060),p=d(p,m,f,g,e[n+4],11,1272893353),g=d(g,p,m,f,e[n+7],16,-155497632),f=d(f,g,p,m,e[n+10],23,-1094730640),m=d(m,f,g,p,e[n+13],4,681279174),p=d(p,m,f,g,e[n],11,-358537222),g=d(g,p,m,f,e[n+3],16,-722521979),f=d(f,g,p,m,e[n+6],23,76029189),m=d(m,f,g,p,e[n+9],4,-640364487),p=d(p,m,f,g,e[n+12],11,-421815835),g=d(g,p,m,f,e[n+15],16,530742520),f=d(f,g,p,m,e[n+2],23,-995338651),m=u(m,f,g,p,e[n],6,-198630844),p=u(p,m,f,g,e[n+7],10,1126891415),g=u(g,p,m,f,e[n+14],15,-1416354905),f=u(f,g,p,m,e[n+5],21,-57434055),m=u(m,f,g,p,e[n+12],6,1700485571),p=u(p,m,f,g,e[n+3],10,-1894986606),g=u(g,p,m,f,e[n+10],15,-1051523),f=u(f,g,p,m,e[n+1],21,-2054922799),m=u(m,f,g,p,e[n+8],6,1873313359),p=u(p,m,f,g,e[n+15],10,-30611744),g=u(g,p,m,f,e[n+6],15,-1560198380),f=u(f,g,p,m,e[n+13],21,1309151649),m=u(m,f,g,p,e[n+4],6,-145523070),p=u(p,m,f,g,e[n+11],10,-1120210379),g=u(g,p,m,f,e[n+2],15,718787259),f=u(f,g,p,m,e[n+9],21,-343485551),m=i(m,a),f=i(f,r),g=i(g,s),p=i(p,o);return[m,f,g,p]}function f(e){var t,n="",a=32*e.length;for(t=0;t<a;t+=8)n+=String.fromCharCode(e[t>>5]>>>t%32&255);return n}function g(e){var t,n=[];for(n[(e.length>>2)-1]=void 0,t=0;t<n.length;t+=1)n[t]=0;var a=8*e.length;for(t=0;t<a;t+=8)n[t>>5]|=(255&e.charCodeAt(t/8))<<t%32;return n}function p(e){return f(m(g(e),8*e.length))}function v(e,t){var n,a,r=g(e),i=[],s=[];for(i[15]=s[15]=void 0,r.length>16&&(r=m(r,8*e.length)),n=0;n<16;n+=1)i[n]=909522486^r[n],s[n]=1549556828^r[n];return a=m(i.concat(g(t)),512+8*t.length),f(m(s.concat(a),640))}function h(e){var t,n,a="0123456789abcdef",r="";for(n=0;n<e.length;n+=1)t=e.charCodeAt(n),r+=a.charAt(t>>>4&15)+a.charAt(15&t);return r}function b(e){return unescape(encodeURIComponent(e))}function S(e){return p(b(e))}function y(e){return h(S(e))}function _(e,t){return v(b(e),b(t))}function k(e,t){return h(_(e,t))}function F(e,t,n){return t?n?_(t,e):k(t,e):n?S(e):y(e)}a=function(){return F}.call(t,n,t,e),void 0===a||(e.exports=a)})()},acc5:function(e,t,n){"use strict";n.r(t);var a=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{directives:[{name:"loading",rawName:"v-loading",value:e.loading,expression:"loading"}],attrs:{"element-loading-text":"获取数据中"}},[n("div",{staticClass:"handle-box"},[n("div",{staticClass:"btn"},[n("el-button",{attrs:{type:"primary"},on:{click:e.addScreenSaver}},[e._v("添加屏保")])],1)]),n("el-table",{attrs:{data:e.tableData,stripe:"",border:"","header-cell-style":{background:"#f0f0f0",color:"#003366"}}},[n("el-table-column",{attrs:{prop:"id",label:"ID"}}),n("el-table-column",{attrs:{prop:"title",label:"屏保描述"}}),n("el-table-column",{attrs:{prop:"remark",label:"屏保备注"}}),n("el-table-column",{attrs:{prop:"images",label:"屏保图片",width:"500px"},scopedSlots:e._u([{key:"default",fn:function(t){return[n("div",{staticStyle:{display:"flex","flex-wrap":"wrap"}},e._l(t.row.images,(function(e,t){return n("div",{key:t},[n("div",{staticStyle:{margin:"0 20px"}},[n("el-popover",{attrs:{placement:"top-start",title:"",trigger:"click"}},[n("img",{staticStyle:{"max-width":"800px","max-height":"800px"},attrs:{src:e}}),n("img",{staticStyle:{"max-width":"50px","max-height":"50px"},attrs:{slot:"reference",src:e},slot:"reference"})])],1)])})),0)]}}])}),n("el-table-column",{attrs:{label:"操作"},scopedSlots:e._u([{key:"default",fn:function(t){return[n("el-button",{attrs:{size:"mini",type:"primary"},on:{click:function(n){return e.sendScreen(t.$index,t.row)}}},[e._v("发布此屏保")]),n("el-popconfirm",{staticStyle:{"margin-left":"10px"},attrs:{title:"是否要删除该条数据",cancelButtonType:"primary"},on:{onConfirm:function(n){return e.handleDel(t.$index,t.row)}}},[n("el-button",{attrs:{slot:"reference",size:"mini",type:"danger"},slot:"reference"},[e._v("删除")])],1)]}}])})],1),n("el-dialog",{attrs:{title:"添加屏保",visible:e.dialogScreen},on:{"update:visible":function(t){e.dialogScreen=t}}},[n("div",{staticClass:"box"},[n("el-form",{attrs:{model:e.form,"label-width":"100px"}},[n("el-form-item",{attrs:{label:"屏保描述"}},[n("el-input",{model:{value:e.form.title,callback:function(t){e.$set(e.form,"title",t)},expression:"form.title"}})],1),n("el-form-item",{attrs:{label:"屏保备注"}},[n("el-input",{model:{value:e.form.remark,callback:function(t){e.$set(e.form,"remark",t)},expression:"form.remark"}})],1),n("el-form-item",{attrs:{label:"上传屏保图片"}},[n("el-upload",{ref:"upload",attrs:{action:"https://upload-z2.qiniup.com",limit:5,"before-upload":e.beforeAvatarUpload,"auto-upload":!1,"on-success":e.handleAvatarSuccess,"on-remove":e.handleRemove,"on-exceed":e.handleExceed,"on-change":e.handleChange,data:e.imgData,multiple:"","list-type":"picture-card"}},[n("el-button",{attrs:{size:"small",type:"primary"}},[e._v("选择图片")])],1)],1),n("div",{staticClass:"submit"},[n("el-form-item",[n("el-button",{attrs:{type:"primary"},on:{click:e.newScreenSaver}},[e._v("提交")])],1)],1)],1)],1)]),n("el-dialog",{attrs:{title:"发布",visible:e.dialogSend,modal:!1,width:"80%"},on:{"update:visible":function(t){e.dialogSend=t}}},[n("div",{staticClass:"box"},[n("el-form",{attrs:{model:e.sendForm,"label-width":"100px"}},[n("el-form-item",{attrs:{label:"屏保时间"}},[n("el-time-picker",{attrs:{"is-range":"","range-separator":"至","start-placeholder":"屏保开始时间","end-placeholder":"屏保结束时间",placeholder:"选择时间范围","value-format":e.timeScreen},on:{change:e.screenTimeChange},model:{value:e.screenTime,callback:function(t){e.screenTime=t},expression:"screenTime"}})],1),n("el-form-item",{attrs:{label:"图片切换间隔时间"}},[n("el-input-number",{on:{change:e.intervalTimeChange},model:{value:e.intervalTime,callback:function(t){e.intervalTime=t},expression:"intervalTime"}})],1),n("el-form-item",{attrs:{label:"人离开后进入屏保的时间"}},[n("el-input-number",{on:{change:e.leaveTimeChange},model:{value:e.leaveTime,callback:function(t){e.leaveTime=t},expression:"leaveTime"}})],1),n("el-form-item",{attrs:{label:"选择类型"}},[n("el-select",{on:{change:e.typeChange},model:{value:e.sendForm.type,callback:function(t){e.$set(e.sendForm,"type",t)},expression:"sendForm.type"}},e._l(e.typeList,(function(e,t){return n("el-option",{key:t,attrs:{label:e.label,value:e.value}})})),1)],1),2===e.sendForm.type?n("div",[n("el-form-item",{attrs:{label:"选择项目"}},[n("el-select",{attrs:{placeholder:"请选择项目"},on:{change:e.changeProject},model:{value:e.project_id,callback:function(t){e.project_id=t},expression:"project_id"}},e._l(e.projectList,(function(e,t){return n("el-option",{key:t,attrs:{label:e.name,value:e.id}})})),1)],1)],1):e._e(),2===e.sendForm.type&&e.hasAddress?n("div",[n("el-form-item",{attrs:{label:"选择地址"}},[n("el-transfer",{attrs:{filterable:"",data:e.addressList,titles:["id-地址","选中地址"],"button-texts":["取消","确定"]},on:{change:e.handleCheckAllAddress},scopedSlots:e._u([{key:"default",fn:function(t){var a=t.option;return n("span",{},[e._v(" "+e._s(a.key)+" - "+e._s(a.label))])}}],null,!1,3071261631),model:{value:e.sendForm.addresses,callback:function(t){e.$set(e.sendForm,"addresses",t)},expression:"sendForm.addresses"}})],1)],1):e._e(),3===e.sendForm.type?n("div",[n("el-form-item",{attrs:{label:"选择项目"}},[n("el-select",{attrs:{placeholder:"请选择项目"},on:{change:e.changeProject},model:{value:e.project_id,callback:function(t){e.project_id=t},expression:"project_id"}},e._l(e.projectList,(function(e,t){return n("el-option",{key:t,attrs:{label:e.name,value:e.id}})})),1)],1)],1):e._e(),3===e.sendForm.type&&e.hasAddress?n("div",[n("el-form-item",{attrs:{label:"选择地址"}},[n("el-transfer",{directives:[{name:"loading",rawName:"v-loading",value:e.dialogLoading,expression:"dialogLoading"}],attrs:{"element-loading-text":"获取数据中",filterable:"",data:e.addressList,titles:["id-地址","选中地址"],"button-texts":["取消","确定"]},on:{change:e.handleCheckAllAddress},scopedSlots:e._u([{key:"default",fn:function(t){var a=t.option;return n("span",{},[e._v(" "+e._s(a.key)+" - "+e._s(a.label))])}}],null,!1,3071261631),model:{value:e.sendForm.addresses,callback:function(t){e.$set(e.sendForm,"addresses",t)},expression:"sendForm.addresses"}}),n("div",{staticClass:"facebox"})],1)],1):e._e(),e.hasType?n("div",[n("el-form-item",{attrs:{label:"选择方向"}},[n("el-select",{on:{change:e.handleCheckeddirection},model:{value:e.sendForm.direction,callback:function(t){e.$set(e.sendForm,"direction",t)},expression:"sendForm.direction"}},e._l(e.directionList,(function(e,t){return n("el-option",{key:t,attrs:{label:e.name,value:e.value}})})),1)],1),n("el-form-item",{attrs:{label:"选择设备"}},[n("div",{staticClass:"facebox"},[n("el-transfer",{directives:[{name:"loading",rawName:"v-loading",value:e.dialogLoading,expression:"dialogLoading"}],attrs:{"element-loading-text":"获取数据中",filterable:"",data:e.deviceList,titles:["uuid-备注","选中地址"],"button-texts":["取消","确定"]},scopedSlots:e._u([{key:"default",fn:function(t){var a=t.option;return n("span",{},[e._v(" "+e._s(a.key)+" - "+e._s(a.label))])}}],null,!1,3071261631),model:{value:e.sendForm.devices,callback:function(t){e.$set(e.sendForm,"devices",t)},expression:"sendForm.devices"}})],1)])],1):e._e(),n("div",{staticClass:"submit"},[n("el-form-item",[n("el-button",{attrs:{type:"primary"},on:{click:e.newSend}},[e._v("发布")])],1)],1)],1)],1)]),n("div",{staticClass:"block"},[n("el-pagination",{attrs:{"current-page":e.current,"page-sizes":[10,20,50,100,150,200,250,300],"page-size":e.size,layout:"sizes, prev, pager, next, jumper",total:e.total},on:{"current-change":e.currentChange,"update:currentPage":function(t){e.current=t},"update:current-page":function(t){e.current=t},"size-change":e.sizeChange}})],1)],1)},r=[],i=(n("99af"),n("c975"),n("baa5"),n("b0c0"),n("365c")),s=n("bc3a"),o=n.n(s),c=n("8d81"),l=n.n(c),d={name:"gradems",data:function(){return{loading:!1,tableData:[{}],dialogScreen:!1,form:{title:"",remark:"",images:[]},submitChanner:!1,imgData:{key:"",token:""},fileName:"",suffix:"",qiniuaddr:"https://tu.fengniaotuangou.cn",screenSaverList:[],screenTime:"",timeScreen:"HH:mm",intervalTime:0,leaveTime:"",screenFrom:{},dialogSend:!1,projectList:[],hasAddress:!1,typeList:[{value:1,label:"全部设备"},{value:2,label:"按地址选择"},{value:3,label:"自定义"}],directionList:[{value:"out",name:"出"},{value:"in",name:"进"}],sendForm:{saver_id:"",type:"",addresses:[],devices:[],start:"",end:"",interval_time:"",start_time:"",direction:""},project_id:"",addressList:[],addresses:[],checkAll:!1,hasType:!1,deviceList:[],dialogLoading:!1,current:1,size:10,total:0}},mounted:function(){this.getScreenSaver(),this.getQiniuToken()},methods:{getScreenSaver:function(){var e=this;i["a"].screenSavers(1,10).then((function(t){e.tableData=t.data,e.total=t.total}))},addScreenSaver:function(){var e=this;e.dialogScreen=!0,e.form.title="",e.form.remark="",e.form.images=[],e.screenSaverList=[],e.$refs.upload.clearFiles()},newScreenSaver:function(){var e=this;e.submitChanner?(e.$refs.upload.submit(),i["a"].screenSaver(e.form).then((function(t){e.$message.success("提交成功"),e.dialogScreen=!1,e.getScreenSaver(),e.$refs.upload.clearFiles(),e.form={title:"",remark:"",images:[]}}))):(console.log(e.form),e.form.images=[""],i["a"].screenSaver(e.form).then((function(t){e.$message.success("提交成功"),e.dialogScreen=!1,e.getScreenSaver(),e.form={title:"",remark:"",images:[]}})).catch((function(e){})))},getQiniuToken:function(){var e=this;o.a.get("https://api.fengniaotuangou.cn/api/upload/token").then((function(t){console.log(t.data.uptoken),e.imgData.token=t.data.uptoken}))},handleRemove:function(e,t){console.log(e,t),0==t.length&&(self.submitChanner=!1)},handleChange:function(e,t){var n=this;t.length>0&&(n.submitChanner=!0);for(var a=0;a<t.length;a++){if(console.log(t),"png"!==t[a].name.substring(t[a].name.lastIndexOf(".")+1))return n.$message.error("该图片类型错误,请上传后缀为png的图片"),t.pop(t[a]),!1;console.log(11,t[a].name)}},beforeAvatarUpload:function(e){var t=this;t.getQiniuToken(),t.fileName=l()(e.name),t.suffix=e.name.substring(e.name.lastIndexOf(".")+1),t.imgData.key="tmp_".concat(t.fileName,".").concat(t.suffix);var n=[];if(t.imgData.key){t.screenSaverList.push("".concat(t.qiniuaddr,"/").concat(t.imgData.key));for(var a=0;a<t.screenSaverList.length;a++)-1===n.indexOf(t.screenSaverList[a])&&"png"===t.screenSaverList[a].substring(t.screenSaverList[a].lastIndexOf(".")+1)&&n.push(t.screenSaverList[a]);t.form.images=n}},handleAvatarSuccess:function(e,t,n){console.log(111,e),console.log(222,n),this.getQiniuToken()},handleExceed:function(){var e=this;e.$message.error("上传图片不能超过5张")},sendScreen:function(e,t){var n=this;n.dialogSend=!0,n.sendForm={saver_id:"",type:"",addresses:[],devices:[],start:"",end:"",interval_time:"",start_time:""},n.sendForm.saver_id=t.id,console.log(this.sendForm.saver_id)},chooseTime:function(e){console.log(this.userAuthTime)},screenTimeChange:function(e){var t=this;t.sendForm.start=e[0],t.sendForm.end=e[1]},intervalTimeChange:function(e){var t=this;t.sendForm.interval_time=e},leaveTimeChange:function(e){var t=this;t.sendForm.start_time=e},typeChange:function(e){var t=this;console.log(t.sendForm.addresses),1===t.sendForm.type&&(t.addressList=[],t.project_id="",t.sendForm.addresses=[],t.hasAddress=!1,t.hasType=!1),3===t.sendForm.type&&(t.addressList=[],t.project_id="",t.sendForm.addresses=[],t.hasAddress=!1,t.hasType=!1,t.getProject()),2===t.sendForm.type&&(t.addressList=[],t.project_id="",t.sendForm.addresses=[],t.hasAddress=!1,t.hasType=!1,t.getProject())},getProject:function(){var e=this;i["a"].projects(1,1e5).then((function(t){e.projectList=t.data}))},changeProject:function(e){var t=this;t.sendForm.addresses=[],t.getAddress(e),t.hasAddress=!0},getAddress:function(e){var t=this;t.dialogLoading=!0,i["a"].addresses(1,1e5,e).then((function(e){for(var n=e.data,a=0;a<n.length;a++)t.addressList.push({key:n[a].id,label:n[a].address});return console.log(t.addressList),t.dialogLoading=!1,t.addressList})).catch((function(e){t.dialogLoading=!1}))},handleCheckAllAddress:function(e){var t=this;console.log(t.sendForm.addresses),3===t.sendForm.type&&(t.hasType=!0)},handleCheckeddirection:function(e){var t=this;t.getDevice(e)},getDevice:function(e){var t=this;t.dialogLoading=!0,i["a"]._devices(e,t.sendForm.addresses,1e7).then((function(e){t.deviceList=[];for(var n=e.data,a=0;a<n.length;a++)t.deviceList.push({key:n[a].id,label:n[a].uuid+n[a].remark});return console.log(t.deviceList),t.dialogLoading=!1,t.deviceList})).catch((function(e){t.dialogLoading=!1}))},newSend:function(){var e=this,t=this,n=t.sendForm.type;switch(n){case 1:var a={saver_id:t.sendForm.saver_id,type:1,start:t.sendForm.start,end:t.sendForm.end,interval_time:t.sendForm.interval_time,start_time:t.sendForm.start_time};console.log(a),i["a"].issueScreenSaver(a).then((function(n){t.$message.success("发布成功"),e.dialogSend=!1}));break;case 2:var r={saver_id:t.sendForm.saver_id,type:2,addresses:t.sendForm.addresses,start:t.sendForm.start,end:t.sendForm.end,interval_time:t.sendForm.interval_time,start_time:t.sendForm.start_time};console.log(r),i["a"].issueScreenSaver(r).then((function(n){t.$message.success("发布成功"),e.dialogSend=!1}));break;case 3:console.log(t.sendForm),i["a"].issueScreenSaver(t.sendForm).then((function(n){t.$message.success("发布成功"),e.dialogSend=!1}))}},handleDel:function(e,t){var n=this;console.log(t);var a=t.id;i["a"].delScreenSaver(a).then((function(e){n.$message.success("删除成功"),n.getScreenSaver(),n.current=1})).catch((function(e){n.loading=!1}))},currentChange:function(e){var t=this;t.loading=!0,t.current=e,i["a"].screenSavers(e,t.size).then((function(e){t.loading=!1,t.tableData=e.data,t.total=e.total})).catch((function(e){t.loading=!1}))},sizeChange:function(e){var t=this;t.loading=!0,t.size=e,i["a"].screenSavers(t.current,e).then((function(e){t.loading=!1,t.tableData=e.data,t.total=e.total})).catch((function(e){t.loading=!1}))}}},u=d,m=n("2877"),f=Object(m["a"])(u,a,r,!1,null,null,null);t["default"]=f.exports},baa5:function(e,t,n){var a=n("23e7"),r=n("e58c");a({target:"Array",proto:!0,forced:r!==[].lastIndexOf},{lastIndexOf:r})},c975:function(e,t,n){"use strict";var a=n("23e7"),r=n("4d64").indexOf,i=n("a640"),s=n("ae40"),o=[].indexOf,c=!!o&&1/[1].indexOf(1,-0)<0,l=i("indexOf"),d=s("indexOf",{ACCESSORS:!0,1:0});a({target:"Array",proto:!0,forced:c||!l||!d},{indexOf:function(e){return c?o.apply(this,arguments)||0:r(this,e,arguments.length>1?arguments[1]:void 0)}})},e58c:function(e,t,n){"use strict";var a=n("fc6a"),r=n("a691"),i=n("50c4"),s=n("a640"),o=n("ae40"),c=Math.min,l=[].lastIndexOf,d=!!l&&1/[1].lastIndexOf(1,-0)<0,u=s("lastIndexOf"),m=o("indexOf",{ACCESSORS:!0,1:0}),f=d||!u||!m;e.exports=f?function(e){if(d)return l.apply(this,arguments)||0;var t=a(this),n=i(t.length),s=n-1;for(arguments.length>1&&(s=c(s,r(arguments[1]))),s<0&&(s=n+s);s>=0;s--)if(s in t&&t[s]===e)return s||0;return-1}:l}}]);
//# sourceMappingURL=chunk-0ac2063e.1610441693762.js.map