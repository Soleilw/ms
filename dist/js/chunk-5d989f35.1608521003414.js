(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-5d989f35"],{"365c":function(e,t,a){"use strict";var n=a("ade3"),l=a("be3b"),i=a("99b1"),r=a.n(i),o={aip:function(e){return l["a"].post(r.a.Aip,e)},delAip:function(e){return l["a"].del(r.a.Aip,{id:e})},aips:function(e,t){return l["a"].get(r.a.Aips,{page:e,limit:t})},apk:function(e){return l["a"].post(r.a.Apk,e)},apks:function(e,t){return l["a"].get(r.a.Apks,{page:e,limit:t})},apkVersion:function(e){return l["a"].post(r.a.ApkVersion,e)},apkVersions:function(e,t,a){return l["a"].get(r.a.ApkVersions,{page:e,limit:t,apk_id:a})},_apkVersions:function(e){return l["a"].get(r.a.ApkVersions,{id:e})},publishApk:function(e){return l["a"].post(r.a.PublishApk,e)},project:function(e){return l["a"].post(r.a.Project,e)},projects:function(e,t){return l["a"].get(r.a.Projects,{page:e,limit:t})},address:function(e){return l["a"].post(r.a.Address,e)},getaddress:function(e){return l["a"].get(r.a.Address,{id:e})},addresses:function(e,t,a,n,i){return l["a"].get(r.a.Addresses,{page:e,limit:t,project_id:a,area_id:n,address:i})},addressTypes:function(e,t){return l["a"].get(r.a.AddressTypes,{page:e,limit:t})},addressesMap:function(e,t,a){return l["a"].get(r.a.Addresses,{page:e,limit:t,type:a})},face:function(e){return l["a"].post(r.a.Face,e)},faces:function(e,t,a){return l["a"].get(r.a.Faces,{page:e,limit:t,name:a})},searchFace:function(e){return l["a"].post(r.a.SearchImageFace,e)},pushRecords:function(e,t,a,n){return l["a"].get(r.a.PushRecords,{page:e,limit:t,name:a,address:n})},pushRecordCommands:function(e){return l["a"].get(r.a.PushRecordCommands,{id:e})},againPush:function(e){return l["a"].post(r.a.PushRecord,e)},areas:function(e,t,a){return l["a"].get(r.a.Areas,{page:e,limit:t,parent_id:a})},area:function(e){return l["a"].post(r.a.Area,e)},device:function(e){return l["a"].post(r.a.Device,e)},_device:function(e){return l["a"].get(r.a.Device,{uuid:e})},devices:function(e,t,a,n,i,o,c,s){return l["a"].get(r.a.Devices,{page:e,limit:t,type:a,uuid:n,area_id:i,address_id:o,online:c,address:s})},_devices:function(e,t,a){return l["a"].get(r.a.Devices,{direction:e,addresses:t,limit:a})},deviceLogs:function(e,t,a,n){return l["a"].get(r.a.DeviceLogs,{page:e,limit:t,uuid:a,type:n})},deviceFaceLogs:function(e,t,a,n,i,o){return l["a"].get(r.a.DeviceRecord,{page:e,limit:t,uuid:a,search:n,area_id:i,address_id:o})},searchFaceLogs:function(e,t,a){return l["a"].get(r.a.DeviceRecord,{page:e,limit:t,faces:a})},deviceTypes:function(){return l["a"].get(r.a.DeviceTypes)},deviceHeart:function(e){return l["a"].get(r.a.DeviceHeartbeat,{uuid:e})},deviceCommands:function(e,t,a){return l["a"].get(r.a.DeviceCommands,{page:e,limit:t,uuid:a})},commandsType:function(e){return l["a"].get(r.a.Commands,{type:e})},sendDeviceCommand:function(e){return l["a"].post(r.a.SendDeviceCommand,e)},resetCommand:function(e){return l["a"].get(r.a.RestartDeviceCommands,{uuid:e})},catchFace:function(e){return l["a"].get(r.a.CatchFaces,{id:e})},deviceUserList:function(e,t,a){return l["a"].get(r.a.DeviceUserList,{page:e,limit:t,uuid:a})},faceGroup:function(e){return l["a"].get(r.a.FaceGroup,{address_id:e})},uuid:function(e,t){return l["a"].get(r.a.Uuid,{page:e,limit:t})},dangerFace:function(e){return l["a"].post(r.a.DangerFace,e)},importHistory:function(e,t,a){return l["a"].get(r.a.ImportTasks,{page:e,limit:t,state:a})},delDangerFace:function(e){return l["a"].del(r.a.DelDangerFace,{id:e})},dangerFaces:function(e,t){return l["a"].get(r.a.DangerFaces,{page:e,limit:t})},personVerifies:function(e,t,a,n){return l["a"].get(r.a.PersonVerifies,{page:e,limit:t,search:a,state:n})},dangerLogs:function(e,t,a,n){return l["a"].get(r.a.DangerLogs,{page:e,limit:t,danger_id:a,address:n})},alert:function(e,t,a,n,i,o,c,s,u){return l["a"].get(r.a.DangerAlerts,{page:e,limit:t,state:a,search:n,dangers:i,alert_type:o,start:c,end:s,danger_type:u})},handleAlerts:function(e){return l["a"].post(r.a.HandleAlerts,{results:e})},dangerTypes:function(){return l["a"].get(r.a.DangerTypes,{})},notifyChange:function(e){return l["a"].post(r.a.ChangeDangerFace,e)},roles:function(e,t){return l["a"].get(r.a.Roles,{page:e,limit:t})},oneRole:function(e){return l["a"].get(r.a.Role,{name:e})},role:function(e){return l["a"].post(r.a.Role,e)},users:function(e,t){return l["a"].get(r.a.Users,{page:e,limit:t})},user:function(e){return l["a"].post(r.a.User,e)},policeLevel:function(e){return l["a"].post(r.a.PoliceLevel,e)},policeLevels:function(e,t,a,n){return l["a"].get(r.a.PoliceLevels,{page:e,limit:t,level:a,parent_id:n})},policeman:function(e){return l["a"].post(r.a.Policeman,e)},policemen:function(e,t,a,n,i,o){return l["a"].get(r.a.Policemen,{page:e,limit:t,station_id:a,department_id:n,state:i,search:o})},audit:function(e){return l["a"].post(r.a.PassPoliceman,e)},screenSaver:function(e){return l["a"].post(r.a.screenSaver,e)},screenSavers:function(e,t){return l["a"].get(r.a.screenSavers,{page:e,limit:t})},delScreenSaver:function(e){return l["a"].del(r.a.screenSaver,Object(n["a"])({id:e},"id",e))},issueScreenSaver:function(e){return l["a"].post(r.a.publishScreenSavers,e)},policeStation:function(e){return l["a"].post(r.a.PoliceStation,e)},policeStations:function(e,t,a){return l["a"].get(r.a.PoliceStations,{page:e,limit:t,name:a})},information:function(e){return l["a"].post(r.a.Information,e)},informations:function(e,t,a,n){return l["a"].get(r.a.Information,{page:e,limit:t,id:a,title:n})},faceSwitch:function(e){return l["a"].post(r.a.FaceSwicth,e)},delFaceSwitch:function(e){return l["a"].del(r.a.FaceSwicth,{id:e})},faceSwitches:function(e,t){return l["a"].get(r.a.FaceSwicthes,{page:e,limit:t})},statistical:function(){return l["a"].get(r.a.Count)}};t["a"]=o},af99:function(e,t,a){"use strict";a.r(t);var n=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{directives:[{name:"loading",rawName:"v-loading",value:e.loading,expression:"loading"}],attrs:{"element-loading-text":"加载中"}},[a("div",{staticClass:"content-box"},[a("div",{staticClass:"content-box-left",staticStyle:{width:"15%"}},[a("div",{staticClass:"btn"},[a("el-button",{attrs:{type:"primary"},on:{click:e.addDepartment}},[e._v("添加部门")])],1),e._m(0),a("div",{staticClass:"btn"},[a("el-select",{attrs:{placeholder:"请选择部门等级"},on:{change:e.search},model:{value:e.search_level,callback:function(t){e.search_level=t},expression:"search_level"}},e._l(e.levelList,(function(e,t){return a("el-option",{key:t,attrs:{label:e.name,value:e.id}})})),1)],1),a("div",{staticClass:"btn"},[a("el-button",{attrs:{type:"primary"},on:{click:e.resetSelect}},[e._v("重新筛选")])],1)]),a("div",{staticClass:"content-box-right",staticStyle:{width:"84%"}},[a("el-table",{attrs:{data:e.tableData,stripe:"",border:"","header-cell-style":{background:"#f0f0f0",color:"#003366"},"max-height":"700"}},[a("el-table-column",{attrs:{prop:"level",label:"部门等级"},scopedSlots:e._u([{key:"default",fn:function(t){return[1==t.row.level?a("span",[e._v("一级部门")]):e._e(),2==t.row.level?a("span",[e._v("二级部门")]):e._e(),3==t.row.level?a("span",[e._v("三级部门")]):e._e(),4==t.row.level?a("span",[e._v("四级部门")]):e._e()]}}])}),a("el-table-column",{attrs:{prop:"title",label:"部门名称"}}),a("el-table-column",{attrs:{label:"操作",width:"600px"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("el-button",{attrs:{type:"text"},on:{click:function(a){return e.handleEdit(t.$index,t.row)}}},[e._v("编辑")]),a("el-button",{attrs:{type:"text"},on:{click:function(a){return e.getBindPolice(t.$index,t.row)}}},[e._v("查看绑定警员")])]}}])})],1),a("div",{staticClass:"block"},[a("el-pagination",{attrs:{"current-page":e.current,"page-sizes":[10,20,50,100,150,200,250,300],"page-size":e.size,layout:"sizes, prev, pager, next, jumper",total:e.total},on:{"current-change":e.handleCurrentChange,"update:currentPage":function(t){e.current=t},"update:current-page":function(t){e.current=t},"size-change":e.handleSizeChange}})],1)],1)]),a("el-dialog",{attrs:{visible:e.dialogDel,title:"删除角色",width:"20%",align:"center","close-on-click-modal":!1},on:{"update:visible":function(t){e.dialogDel=t}}},[a("div",{staticStyle:{"font-size":"20px","margin-bottom":"30px"}},[e._v("是否删除该账号")]),a("span",[a("el-button",{attrs:{type:"primary"},on:{click:e.toDel}},[e._v("删除")]),a("el-button",{attrs:{type:"danger"},on:{click:function(t){e.dialogDel=!1}}},[e._v("取消")])],1)]),a("el-dialog",{attrs:{visible:e.dialogBindPolice,title:"该部门绑定的警员",width:"80%","close-on-click-modal":!1},on:{"update:visible":function(t){e.dialogBindPolice=t}}},[a("el-table",{attrs:{data:e.policeData,border:"","header-cell-style":{background:"#f0f0f0",color:"#003366"},"max-height":"620"}},[a("el-table-column",{attrs:{prop:"station.name",label:"所属辖区"}}),a("el-table-column",{attrs:{prop:"department.title",label:"所属部门"}}),a("el-table-column",{attrs:{prop:"name",label:"姓名"}}),a("el-table-column",{attrs:{prop:"phone",label:"手机号"}}),a("el-table-column",{attrs:{prop:"id_card",label:"身份证号",width:"200px"}}),a("el-table-column",{attrs:{prop:"number",label:"工号"}}),a("el-table-column",{attrs:{prop:"state",label:"审核状态"},scopedSlots:e._u([{key:"default",fn:function(t){return[1==t.row.state?a("span",[e._v("待审核")]):e._e(),2==t.row.state?a("span",[e._v("已通过")]):e._e(),3==t.row.state?a("span",[e._v("未通过")]):e._e()]}}])}),a("el-table-column",{attrs:{prop:"face_image",label:"人脸照片"},scopedSlots:e._u([{key:"default",fn:function(e){return[a("el-popover",{attrs:{placement:"top-start",title:"",trigger:"click"}},[a("img",{staticStyle:{"max-width":"800px","max-height":"800px"},attrs:{src:e.row.face_image}}),a("img",{staticStyle:{"max-width":"150px","max-height":"80px"},attrs:{slot:"reference",src:e.row.face_image},slot:"reference"})])]}}])})],1),a("div",{staticClass:"block"},[a("el-pagination",{attrs:{"current-page":e.policeCurrent,"page-sizes":[10,20,50,100,150,200,250,300],"page-size":e.policeSize,layout:"sizes, prev, pager, next, jumper",total:e.policeTotal},on:{"current-change":e.policeCurrentChange,"update:currentPage":function(t){e.policeCurrent=t},"update:current-page":function(t){e.policeCurrent=t},"size-change":e.policeSizeChange}})],1)],1),a("el-dialog",{attrs:{title:"添加部门",visible:e.dialogDepartment,width:"60%","close-on-click-modal":!1},on:{"update:visible":function(t){e.dialogDepartment=t}}},[a("div",{staticClass:"box"},[a("el-form",{ref:"form",attrs:{model:e.form,"label-width":"120px"}},[a("el-form-item",{attrs:{label:"部门等级"}},[a("el-select",{attrs:{placeholder:"请选择部门等级"},on:{change:e.levelChange},model:{value:e.form.level,callback:function(t){e.$set(e.form,"level",t)},expression:"form.level"}},e._l(e.levelList,(function(e,t){return a("el-option",{key:t,attrs:{label:e.name,value:e.id}})})),1)],1),2==e.form.level?a("div",[a("el-form-item",{attrs:{label:"所属的一级部门"}},[a("el-select",{attrs:{placeholder:"请选择所属的一级部门"},on:{change:e.levelOneChange},model:{value:e.level.one,callback:function(t){e.$set(e.level,"one",t)},expression:"level.one"}},e._l(e.levelOneList,(function(e,t){return a("el-option",{key:t,attrs:{label:e.title,value:e.id}})})),1)],1)],1):e._e(),3==e.form.level?a("div",[a("el-form-item",{attrs:{label:"所属的一级部门"}},[a("el-select",{attrs:{placeholder:"请选择所属的一级部门"},on:{change:e.levelOneChange},model:{value:e.level.one,callback:function(t){e.$set(e.level,"one",t)},expression:"level.one"}},e._l(e.levelOneList,(function(e,t){return a("el-option",{key:t,attrs:{label:e.title,value:e.id}})})),1)],1),a("el-form-item",{attrs:{label:"所属的二级部门"}},[a("el-select",{attrs:{placeholder:"请选择所属的二级部门"},on:{change:e.levelTwoChange},model:{value:e.level.two,callback:function(t){e.$set(e.level,"two",t)},expression:"level.two"}},e._l(e.levelTwoList,(function(e,t){return a("el-option",{key:t,attrs:{label:e.title,value:e.id}})})),1)],1)],1):e._e(),4==e.form.level?a("div",[a("el-form-item",{attrs:{label:"所属的一级部门"}},[a("el-select",{attrs:{placeholder:"请选择所属的一级部门"},on:{change:e.levelOneChange},model:{value:e.level.one,callback:function(t){e.$set(e.level,"one",t)},expression:"level.one"}},e._l(e.levelOneList,(function(e,t){return a("el-option",{key:t,attrs:{label:e.title,value:e.id}})})),1)],1),a("el-form-item",{attrs:{label:"所属的二级部门"}},[a("el-select",{attrs:{placeholder:"请选择所属的二级部门"},on:{change:e.levelTwoChange},model:{value:e.level.two,callback:function(t){e.$set(e.level,"two",t)},expression:"level.two"}},e._l(e.levelTwoList,(function(e,t){return a("el-option",{key:t,attrs:{label:e.title,value:e.id}})})),1)],1),a("el-form-item",{attrs:{label:"所属的三级部门"}},[a("el-select",{attrs:{placeholder:"请选择所属的三级部门"},on:{change:e.levelThreeChange},model:{value:e.level.three,callback:function(t){e.$set(e.level,"three",t)},expression:"level.three"}},e._l(e.levelThreeList,(function(e,t){return a("el-option",{key:t,attrs:{label:e.title,value:e.id}})})),1)],1)],1):e._e(),a("el-form-item",{attrs:{label:"部门名称"}},[a("el-input",{attrs:{placeholder:"请输入部门名称"},model:{value:e.form.title,callback:function(t){e.$set(e.form,"title",t)},expression:"form.title"}})],1),a("div",{staticClass:"submit"},[a("el-form-item",[a("el-button",{attrs:{type:"primary"},on:{click:e.newDepartment}},[e._v("提交")])],1)],1)],1)],1)])],1)},l=[function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"btn"},[a("div",{staticClass:"tip"},[e._v("根据部门筛选：")])])}],i=a("365c"),r={data:function(){return{loading:!0,dialogDepartment:!1,search_level:"",levelList:[{id:1,name:"一级部门"},{id:2,name:"二级部门"},{id:3,name:"三级部门"},{id:4,name:"四级部门"}],levelOneList:[],levelTwoList:[],levelThreeList:[],level:{one:"",two:"",three:""},form:{title:"",parent_id:"",level:""},tableData:[{}],dialogBindPolice:!1,policeData:[],policeCurrent:1,policeSize:10,policeTotal:0,department_id:"",dialogDel:!1,id:"",current:1,size:10,total:0}},mounted:function(){this.getDepartment()},methods:{getDepartment:function(){var e=this;i["a"].policeLevels(1,10).then((function(t){e.loading=!1,e.tableData=t.data,e.total=t.total})).catch((function(t){e.loading=!1}))},search:function(e){var t=this;t.loading=!0,i["a"].policeLevels(1,10,e).then((function(e){t.loading=!1,t.tableData=e.data,t.total=e.total})).catch((function(e){t.loading=!1}))},addDepartment:function(){var e=this;e.dialogDepartment=!0,e.form={title:"",parent_id:"",level:""},e.level={one:"",two:"",three:""}},levelChange:function(e){var t=this;switch(e){case 1:t.form.parent_id=1;break;case 2:t.form.parent_id=2,i["a"].policeLevels(1,1e3,1,1).then((function(e){t.levelOneList=e.data}));break;case 3:t.form.parent_id=3,i["a"].policeLevels(1,1e3,1,1).then((function(e){t.levelOneList=e.data}));break;case 4:i["a"].policeLevels(1,1e3,1,1).then((function(e){t.levelOneList=e.data})),t.form.parent_id=4}},levelOneChange:function(e){var t=this;t.form.parent_id=e,i["a"].policeLevels(1,1e3,2,e).then((function(e){t.levelTwoList=e.data,t.level.two="",t.level.three=""}))},levelTwoChange:function(e){var t=this;t.form.parent_id=e,i["a"].policeLevels(1,1e3,3,e).then((function(e){t.levelThreeList=e.data,t.level.three=""}))},levelThreeChange:function(e){var t=this;t.form.parent_id=e},newDepartment:function(){var e=this;i["a"].policeLevel(e.form).then((function(t){e.dialogDepartment=!1,e.$message.success("提交成功"),e.getDepartment(),e.form={}}))},handleEdit:function(e,t){var a=this;a.dialogDepartment=!0,a.form={id:t.id,title:t.title,parent_id:t.parent_id,level:t.level}},getBindPolice:function(e,t){var a=this;a.dialogBindPolice=!0,a.policeCurrent=1,a.policeSize=10,a.department_id=t.id,i["a"].policemen(1,10,"",t.id,"").then((function(e){a.policeData=e.data,a.policeTotal=e.total}))},handleDel:function(e,t){var a=this;a.dialogDel=!0,a.id=t.id},toDel:function(){var e=this;i["a"].delUser(e.id).then((function(t){e.$message.success("删除成功"),e.dialogDel=!1,e.getUsers(),e.current=1}))},resetSelect:function(){window.location.reload()},handleCurrentChange:function(e){var t=this;t.current=e,t.loading=!0,i["a"].policeLevels(e,t.size,t.search_level).then((function(e){t.loading=!1,t.tableData=e.data,t.total=e.total})).catch((function(e){t.loading=!1}))},handleSizeChange:function(e){var t=this;t.size=e,t.loading=!0,i["a"].policeLevels(t.current,e,t.search_level).then((function(e){t.loading=!1,t.tableData=e.data,t.total=e.total})).catch((function(e){t.loading=!1}))},policeCurrentChange:function(e){var t=this;t.policeCurrent=e,i["a"].policemen(e,t.policeSize,"",t.department_id,"").then((function(e){t.policeData=e.data,t.policeTotal=e.total}))},policeSizeChange:function(e){var t=this;t.policeSize=e,i["a"].policemen(t.policeCurrent,e,"",t.department_id,"").then((function(e){t.policeData=e.data,t.policeTotal=e.total}))}}},o=r,c=a("2877"),s=Object(c["a"])(o,n,l,!1,null,"32977588",null);t["default"]=s.exports}}]);
//# sourceMappingURL=chunk-5d989f35.1608521003414.js.map