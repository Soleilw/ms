(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-0ac2063e","chunk-2d225891"],{"365c":function(e,t,a){"use strict";var n=a("ade3"),r=a("be3b"),i=a("99b1"),s=a.n(i),o={aip:function(e){return r["a"].post(s.a.Aip,e)},delAip:function(e){return r["a"].del(s.a.Aip,{id:e})},aips:function(e,t){return r["a"].get(s.a.Aips,{page:e,limit:t})},apk:function(e){return r["a"].post(s.a.Apk,e)},apks:function(e,t){return r["a"].get(s.a.Apks,{page:e,limit:t})},apkVersion:function(e){return r["a"].post(s.a.ApkVersion,e)},apkVersions:function(e,t,a){return r["a"].get(s.a.ApkVersions,{page:e,limit:t,apk_id:a})},_apkVersions:function(e){return r["a"].get(s.a.ApkVersions,{id:e})},publishApk:function(e){return r["a"].post(s.a.PublishApk,e)},project:function(e){return r["a"].post(s.a.Project,e)},projects:function(e,t){return r["a"].get(s.a.Projects,{page:e,limit:t})},address:function(e){return r["a"].post(s.a.Address,e)},getaddress:function(e){return r["a"].get(s.a.Address,{id:e})},addresses:function(e,t,a,n,i){return r["a"].get(s.a.Addresses,{page:e,limit:t,project_id:a,area_id:n,address:i})},addressTypes:function(e,t){return r["a"].get(s.a.AddressTypes,{page:e,limit:t})},addressesMap:function(e,t,a){return r["a"].get(s.a.Addresses,{page:e,limit:t,type:a})},face:function(e){return r["a"].post(s.a.Face,e)},faces:function(e,t,a){return r["a"].get(s.a.Faces,{page:e,limit:t,name:a})},searchFace:function(e){return r["a"].post(s.a.SearchImageFace,e)},pushRecords:function(e,t,a,n){return r["a"].get(s.a.PushRecords,{page:e,limit:t,name:a,address:n})},pushRecordCommands:function(e){return r["a"].get(s.a.PushRecordCommands,{id:e})},againPush:function(e){return r["a"].post(s.a.PushRecord,e)},areas:function(e,t,a){return r["a"].get(s.a.Areas,{page:e,limit:t,parent_id:a})},area:function(e){return r["a"].post(s.a.Area,e)},device:function(e){return r["a"].post(s.a.Device,e)},_device:function(e){return r["a"].get(s.a.Device,{uuid:e})},devices:function(e,t,a,n,i,o,c,l){return r["a"].get(s.a.Devices,{page:e,limit:t,type:a,uuid:n,area_id:i,address_id:o,online:c,address:l})},_devices:function(e,t,a){return r["a"].get(s.a.Devices,{direction:e,addresses:t,limit:a})},deviceLogs:function(e,t,a,n){return r["a"].get(s.a.DeviceLogs,{page:e,limit:t,uuid:a,type:n})},deviceFaceLogs:function(e,t,a,n,i,o){return r["a"].get(s.a.DeviceRecord,{page:e,limit:t,uuid:a,search:n,area_id:i,address_id:o})},searchFaceLogs:function(e,t,a){return r["a"].get(s.a.DeviceRecord,{page:e,limit:t,faces:a})},deviceTypes:function(){return r["a"].get(s.a.DeviceTypes)},deviceHeart:function(e){return r["a"].get(s.a.DeviceHeartbeat,{uuid:e})},deviceCommands:function(e,t,a){return r["a"].get(s.a.DeviceCommands,{page:e,limit:t,uuid:a})},commandsType:function(e){return r["a"].get(s.a.Commands,{type:e})},sendDeviceCommand:function(e){return r["a"].post(s.a.SendDeviceCommand,e)},resetCommand:function(e){return r["a"].get(s.a.RestartDeviceCommands,{uuid:e})},catchFace:function(e){return r["a"].get(s.a.CatchFaces,{id:e})},deviceUserList:function(e,t,a){return r["a"].get(s.a.DeviceUserList,{page:e,limit:t,uuid:a})},faceGroup:function(e){return r["a"].get(s.a.FaceGroup,{address_id:e})},uuid:function(e,t){return r["a"].get(s.a.Uuid,{page:e,limit:t})},dangerFace:function(e){return r["a"].post(s.a.DangerFace,e)},importHistory:function(e,t,a){return r["a"].get(s.a.ImportTasks,{page:e,limit:t,state:a})},delDangerFace:function(e){return r["a"].del(s.a.DelDangerFace,{id:e})},dangerFaces:function(e,t){return r["a"].get(s.a.DangerFaces,{page:e,limit:t})},personVerifies:function(e,t,a,n){return r["a"].get(s.a.PersonVerifies,{page:e,limit:t,search:a,state:n})},dangerLogs:function(e,t,a,n){return r["a"].get(s.a.DangerLogs,{page:e,limit:t,danger_id:a,address:n})},alert:function(e,t,a,n,i,o,c,l,d){return r["a"].get(s.a.DangerAlerts,{page:e,limit:t,state:a,search:n,dangers:i,alert_type:o,start:c,end:l,danger_type:d})},handleAlerts:function(e){return r["a"].post(s.a.HandleAlerts,{results:e})},dangerTypes:function(){return r["a"].get(s.a.DangerTypes,{})},notifyChange:function(e){return r["a"].post(s.a.ChangeDangerFace,e)},roles:function(e,t){return r["a"].get(s.a.Roles,{page:e,limit:t})},oneRole:function(e){return r["a"].get(s.a.Role,{name:e})},role:function(e){return r["a"].post(s.a.Role,e)},users:function(e,t){return r["a"].get(s.a.Users,{page:e,limit:t})},user:function(e){return r["a"].post(s.a.User,e)},policeLevel:function(e){return r["a"].post(s.a.PoliceLevel,e)},policeLevels:function(e,t,a,n){return r["a"].get(s.a.PoliceLevels,{page:e,limit:t,level:a,parent_id:n})},policeman:function(e){return r["a"].post(s.a.Policeman,e)},policemen:function(e,t,a,n,i,o){return r["a"].get(s.a.Policemen,{page:e,limit:t,station_id:a,department_id:n,state:i,search:o})},audit:function(e){return r["a"].post(s.a.PassPoliceman,e)},screenSaver:function(e){return r["a"].post(s.a.screenSaver,e)},screenSavers:function(e,t){return r["a"].get(s.a.screenSavers,{page:e,limit:t})},delScreenSaver:function(e){return r["a"].del(s.a.screenSaver,Object(n["a"])({id:e},"id",e))},issueScreenSaver:function(e){return r["a"].post(s.a.publishScreenSavers,e)},policeStation:function(e){return r["a"].post(s.a.PoliceStation,e)},policeStations:function(e,t,a){return r["a"].get(s.a.PoliceStations,{page:e,limit:t,name:a})},information:function(e){return r["a"].post(s.a.Information,e)},informations:function(e,t,a,n){return r["a"].get(s.a.Information,{page:e,limit:t,id:a,title:n})},faceSwitch:function(e){return r["a"].post(s.a.FaceSwicth,e)},delFaceSwitch:function(e){return r["a"].del(s.a.FaceSwicth,{id:e})},faceSwitches:function(e,t){return r["a"].get(s.a.FaceSwicthes,{page:e,limit:t})},statistical:function(){return r["a"].get(s.a.Count)}};t["a"]=o},"8d81":function(e,t,a){var n;(function(r){"use strict";function i(e,t){var a=(65535&e)+(65535&t),n=(e>>16)+(t>>16)+(a>>16);return n<<16|65535&a}function s(e,t){return e<<t|e>>>32-t}function o(e,t,a,n,r,o){return i(s(i(i(t,e),i(n,o)),r),a)}function c(e,t,a,n,r,i,s){return o(t&a|~t&n,e,t,r,i,s)}function l(e,t,a,n,r,i,s){return o(t&n|a&~n,e,t,r,i,s)}function d(e,t,a,n,r,i,s){return o(t^a^n,e,t,r,i,s)}function u(e,t,a,n,r,i,s){return o(a^(t|~n),e,t,r,i,s)}function m(e,t){var a,n,r,s,o;e[t>>5]|=128<<t%32,e[14+(t+64>>>9<<4)]=t;var m=1732584193,f=-271733879,g=-1732584194,p=271733878;for(a=0;a<e.length;a+=16)n=m,r=f,s=g,o=p,m=c(m,f,g,p,e[a],7,-680876936),p=c(p,m,f,g,e[a+1],12,-389564586),g=c(g,p,m,f,e[a+2],17,606105819),f=c(f,g,p,m,e[a+3],22,-1044525330),m=c(m,f,g,p,e[a+4],7,-176418897),p=c(p,m,f,g,e[a+5],12,1200080426),g=c(g,p,m,f,e[a+6],17,-1473231341),f=c(f,g,p,m,e[a+7],22,-45705983),m=c(m,f,g,p,e[a+8],7,1770035416),p=c(p,m,f,g,e[a+9],12,-1958414417),g=c(g,p,m,f,e[a+10],17,-42063),f=c(f,g,p,m,e[a+11],22,-1990404162),m=c(m,f,g,p,e[a+12],7,1804603682),p=c(p,m,f,g,e[a+13],12,-40341101),g=c(g,p,m,f,e[a+14],17,-1502002290),f=c(f,g,p,m,e[a+15],22,1236535329),m=l(m,f,g,p,e[a+1],5,-165796510),p=l(p,m,f,g,e[a+6],9,-1069501632),g=l(g,p,m,f,e[a+11],14,643717713),f=l(f,g,p,m,e[a],20,-373897302),m=l(m,f,g,p,e[a+5],5,-701558691),p=l(p,m,f,g,e[a+10],9,38016083),g=l(g,p,m,f,e[a+15],14,-660478335),f=l(f,g,p,m,e[a+4],20,-405537848),m=l(m,f,g,p,e[a+9],5,568446438),p=l(p,m,f,g,e[a+14],9,-1019803690),g=l(g,p,m,f,e[a+3],14,-187363961),f=l(f,g,p,m,e[a+8],20,1163531501),m=l(m,f,g,p,e[a+13],5,-1444681467),p=l(p,m,f,g,e[a+2],9,-51403784),g=l(g,p,m,f,e[a+7],14,1735328473),f=l(f,g,p,m,e[a+12],20,-1926607734),m=d(m,f,g,p,e[a+5],4,-378558),p=d(p,m,f,g,e[a+8],11,-2022574463),g=d(g,p,m,f,e[a+11],16,1839030562),f=d(f,g,p,m,e[a+14],23,-35309556),m=d(m,f,g,p,e[a+1],4,-1530992060),p=d(p,m,f,g,e[a+4],11,1272893353),g=d(g,p,m,f,e[a+7],16,-155497632),f=d(f,g,p,m,e[a+10],23,-1094730640),m=d(m,f,g,p,e[a+13],4,681279174),p=d(p,m,f,g,e[a],11,-358537222),g=d(g,p,m,f,e[a+3],16,-722521979),f=d(f,g,p,m,e[a+6],23,76029189),m=d(m,f,g,p,e[a+9],4,-640364487),p=d(p,m,f,g,e[a+12],11,-421815835),g=d(g,p,m,f,e[a+15],16,530742520),f=d(f,g,p,m,e[a+2],23,-995338651),m=u(m,f,g,p,e[a],6,-198630844),p=u(p,m,f,g,e[a+7],10,1126891415),g=u(g,p,m,f,e[a+14],15,-1416354905),f=u(f,g,p,m,e[a+5],21,-57434055),m=u(m,f,g,p,e[a+12],6,1700485571),p=u(p,m,f,g,e[a+3],10,-1894986606),g=u(g,p,m,f,e[a+10],15,-1051523),f=u(f,g,p,m,e[a+1],21,-2054922799),m=u(m,f,g,p,e[a+8],6,1873313359),p=u(p,m,f,g,e[a+15],10,-30611744),g=u(g,p,m,f,e[a+6],15,-1560198380),f=u(f,g,p,m,e[a+13],21,1309151649),m=u(m,f,g,p,e[a+4],6,-145523070),p=u(p,m,f,g,e[a+11],10,-1120210379),g=u(g,p,m,f,e[a+2],15,718787259),f=u(f,g,p,m,e[a+9],21,-343485551),m=i(m,n),f=i(f,r),g=i(g,s),p=i(p,o);return[m,f,g,p]}function f(e){var t,a="",n=32*e.length;for(t=0;t<n;t+=8)a+=String.fromCharCode(e[t>>5]>>>t%32&255);return a}function g(e){var t,a=[];for(a[(e.length>>2)-1]=void 0,t=0;t<a.length;t+=1)a[t]=0;var n=8*e.length;for(t=0;t<n;t+=8)a[t>>5]|=(255&e.charCodeAt(t/8))<<t%32;return a}function p(e){return f(m(g(e),8*e.length))}function v(e,t){var a,n,r=g(e),i=[],s=[];for(i[15]=s[15]=void 0,r.length>16&&(r=m(r,8*e.length)),a=0;a<16;a+=1)i[a]=909522486^r[a],s[a]=1549556828^r[a];return n=m(i.concat(g(t)),512+8*t.length),f(m(s.concat(n),640))}function h(e){var t,a,n="0123456789abcdef",r="";for(a=0;a<e.length;a+=1)t=e.charCodeAt(a),r+=n.charAt(t>>>4&15)+n.charAt(15&t);return r}function b(e){return unescape(encodeURIComponent(e))}function S(e){return p(b(e))}function y(e){return h(S(e))}function _(e,t){return v(b(e),b(t))}function k(e,t){return h(_(e,t))}function F(e,t,a){return t?a?_(t,e):k(t,e):a?S(e):y(e)}n=function(){return F}.call(t,a,t,e),void 0===n||(e.exports=n)})()},acc5:function(e,t,a){"use strict";a.r(t);var n=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{directives:[{name:"loading",rawName:"v-loading",value:e.loading,expression:"loading"}],attrs:{"element-loading-text":"获取数据中"}},[a("div",{staticClass:"handle-box"},[a("div",{staticClass:"btn"},[a("el-button",{attrs:{type:"primary"},on:{click:e.addScreenSaver}},[e._v("添加屏保")])],1)]),a("el-table",{attrs:{data:e.tableData,stripe:"",border:"","header-cell-style":{background:"#f0f0f0",color:"#003366"}}},[a("el-table-column",{attrs:{prop:"id",label:"ID"}}),a("el-table-column",{attrs:{prop:"title",label:"屏保描述"}}),a("el-table-column",{attrs:{prop:"remark",label:"屏保备注"}}),a("el-table-column",{attrs:{prop:"images",label:"屏保图片",width:"500px"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("div",{staticStyle:{display:"flex","flex-wrap":"wrap"}},e._l(t.row.images,(function(e,t){return a("div",{key:t},[a("div",{staticStyle:{margin:"0 20px"}},[a("el-popover",{attrs:{placement:"top-start",title:"",trigger:"click"}},[a("img",{staticStyle:{"max-width":"800px","max-height":"800px"},attrs:{src:e}}),a("img",{staticStyle:{"max-width":"50px","max-height":"50px"},attrs:{slot:"reference",src:e},slot:"reference"})])],1)])})),0)]}}])}),a("el-table-column",{attrs:{label:"操作"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("el-button",{attrs:{size:"mini",type:"primary"},on:{click:function(a){return e.sendScreen(t.$index,t.row)}}},[e._v("发布此屏保")]),a("el-popconfirm",{staticStyle:{"margin-left":"10px"},attrs:{title:"是否要删除该条数据",cancelButtonType:"primary"},on:{onConfirm:function(a){return e.handleDel(t.$index,t.row)}}},[a("el-button",{attrs:{slot:"reference",size:"mini",type:"danger"},slot:"reference"},[e._v("删除")])],1)]}}])})],1),a("el-dialog",{attrs:{title:"添加屏保",visible:e.dialogScreen},on:{"update:visible":function(t){e.dialogScreen=t}}},[a("div",{staticClass:"box"},[a("el-form",{attrs:{model:e.form,"label-width":"100px"}},[a("el-form-item",{attrs:{label:"屏保描述"}},[a("el-input",{model:{value:e.form.title,callback:function(t){e.$set(e.form,"title",t)},expression:"form.title"}})],1),a("el-form-item",{attrs:{label:"屏保备注"}},[a("el-input",{model:{value:e.form.remark,callback:function(t){e.$set(e.form,"remark",t)},expression:"form.remark"}})],1),a("el-form-item",{attrs:{label:"上传屏保图片"}},[a("el-upload",{ref:"upload",attrs:{action:"https://upload-z2.qiniup.com",limit:5,"before-upload":e.beforeAvatarUpload,"auto-upload":!1,"on-success":e.handleAvatarSuccess,"on-remove":e.handleRemove,"on-exceed":e.handleExceed,"on-change":e.handleChange,data:e.imgData,multiple:"","list-type":"picture-card"}},[a("el-button",{attrs:{size:"small",type:"primary"}},[e._v("选择图片")])],1)],1),a("div",{staticClass:"submit"},[a("el-form-item",[a("el-button",{attrs:{type:"primary"},on:{click:e.newScreenSaver}},[e._v("提交")])],1)],1)],1)],1)]),a("el-dialog",{attrs:{title:"发布",visible:e.dialogSend,modal:!1,width:"80%"},on:{"update:visible":function(t){e.dialogSend=t}}},[a("div",{staticClass:"box"},[a("el-form",{attrs:{model:e.sendForm,"label-width":"100px"}},[a("el-form-item",{attrs:{label:"屏保时间"}},[a("el-time-picker",{attrs:{"is-range":"","range-separator":"至","start-placeholder":"屏保开始时间","end-placeholder":"屏保结束时间",placeholder:"选择时间范围","value-format":e.timeScreen},on:{change:e.screenTimeChange},model:{value:e.screenTime,callback:function(t){e.screenTime=t},expression:"screenTime"}})],1),a("el-form-item",{attrs:{label:"图片切换间隔时间"}},[a("el-input-number",{on:{change:e.intervalTimeChange},model:{value:e.intervalTime,callback:function(t){e.intervalTime=t},expression:"intervalTime"}})],1),a("el-form-item",{attrs:{label:"人离开后进入屏保的时间"}},[a("el-input-number",{on:{change:e.leaveTimeChange},model:{value:e.leaveTime,callback:function(t){e.leaveTime=t},expression:"leaveTime"}})],1),a("el-form-item",{attrs:{label:"选择类型"}},[a("el-select",{on:{change:e.typeChange},model:{value:e.sendForm.type,callback:function(t){e.$set(e.sendForm,"type",t)},expression:"sendForm.type"}},e._l(e.typeList,(function(e,t){return a("el-option",{key:t,attrs:{label:e.label,value:e.value}})})),1)],1),2===e.sendForm.type?a("div",[a("el-form-item",{attrs:{label:"选择项目"}},[a("el-select",{attrs:{placeholder:"请选择项目"},on:{change:e.changeProject},model:{value:e.project_id,callback:function(t){e.project_id=t},expression:"project_id"}},e._l(e.projectList,(function(e,t){return a("el-option",{key:t,attrs:{label:e.name,value:e.id}})})),1)],1)],1):e._e(),2===e.sendForm.type&&e.hasAddress?a("div",[a("el-form-item",{attrs:{label:"选择地址"}},[a("el-transfer",{attrs:{filterable:"",data:e.addressList,titles:["id-地址","选中地址"],"button-texts":["取消","确定"]},on:{change:e.handleCheckAllAddress},scopedSlots:e._u([{key:"default",fn:function(t){var n=t.option;return a("span",{},[e._v(" "+e._s(n.key)+" - "+e._s(n.label))])}}],null,!1,3071261631),model:{value:e.sendForm.addresses,callback:function(t){e.$set(e.sendForm,"addresses",t)},expression:"sendForm.addresses"}})],1)],1):e._e(),3===e.sendForm.type?a("div",[a("el-form-item",{attrs:{label:"选择项目"}},[a("el-select",{attrs:{placeholder:"请选择项目"},on:{change:e.changeProject},model:{value:e.project_id,callback:function(t){e.project_id=t},expression:"project_id"}},e._l(e.projectList,(function(e,t){return a("el-option",{key:t,attrs:{label:e.name,value:e.id}})})),1)],1)],1):e._e(),3===e.sendForm.type&&e.hasAddress?a("div",[a("el-form-item",{attrs:{label:"选择地址"}},[a("el-transfer",{directives:[{name:"loading",rawName:"v-loading",value:e.dialogLoading,expression:"dialogLoading"}],attrs:{"element-loading-text":"获取数据中",filterable:"",data:e.addressList,titles:["id-地址","选中地址"],"button-texts":["取消","确定"]},on:{change:e.handleCheckAllAddress},scopedSlots:e._u([{key:"default",fn:function(t){var n=t.option;return a("span",{},[e._v(" "+e._s(n.key)+" - "+e._s(n.label))])}}],null,!1,3071261631),model:{value:e.sendForm.addresses,callback:function(t){e.$set(e.sendForm,"addresses",t)},expression:"sendForm.addresses"}}),a("div",{staticClass:"facebox"})],1)],1):e._e(),e.hasType?a("div",[a("el-form-item",{attrs:{label:"选择方向"}},[a("el-select",{on:{change:e.handleCheckeddirection},model:{value:e.sendForm.direction,callback:function(t){e.$set(e.sendForm,"direction",t)},expression:"sendForm.direction"}},e._l(e.directionList,(function(e,t){return a("el-option",{key:t,attrs:{label:e.name,value:e.value}})})),1)],1),a("el-form-item",{attrs:{label:"选择设备"}},[a("div",{staticClass:"facebox"},[a("el-transfer",{directives:[{name:"loading",rawName:"v-loading",value:e.dialogLoading,expression:"dialogLoading"}],attrs:{"element-loading-text":"获取数据中",filterable:"",data:e.deviceList,titles:["uuid-备注","选中地址"],"button-texts":["取消","确定"]},scopedSlots:e._u([{key:"default",fn:function(t){var n=t.option;return a("span",{},[e._v(" "+e._s(n.key)+" - "+e._s(n.label))])}}],null,!1,3071261631),model:{value:e.sendForm.devices,callback:function(t){e.$set(e.sendForm,"devices",t)},expression:"sendForm.devices"}})],1)])],1):e._e(),a("div",{staticClass:"submit"},[a("el-form-item",[a("el-button",{attrs:{type:"primary"},on:{click:e.newSend}},[e._v("发布")])],1)],1)],1)],1)]),a("div",{staticClass:"block"},[a("el-pagination",{attrs:{"current-page":e.current,"page-sizes":[10,20,50,100,150,200,250,300],"page-size":e.size,layout:"sizes, prev, pager, next, jumper",total:e.total},on:{"current-change":e.currentChange,"update:currentPage":function(t){e.current=t},"update:current-page":function(t){e.current=t},"size-change":e.sizeChange}})],1)],1)},r=[],i=(a("99af"),a("c975"),a("baa5"),a("b0c0"),a("365c")),s=a("bc3a"),o=a.n(s),c=a("8d81"),l=a.n(c),d={name:"gradems",data:function(){return{loading:!1,tableData:[{}],dialogScreen:!1,form:{title:"",remark:"",images:[]},submitChanner:!1,imgData:{key:"",token:""},fileName:"",suffix:"",qiniuaddr:"https://tu.fengniaotuangou.cn",screenSaverList:[],screenTime:"",timeScreen:"HH:mm",intervalTime:0,leaveTime:"",screenFrom:{},dialogSend:!1,projectList:[],hasAddress:!1,typeList:[{value:1,label:"全部设备"},{value:2,label:"按地址选择"},{value:3,label:"自定义"}],directionList:[{value:"out",name:"出"},{value:"in",name:"进"}],sendForm:{saver_id:"",type:"",addresses:[],devices:[],start:"",end:"",interval_time:"",start_time:"",direction:""},project_id:"",addressList:[],addresses:[],checkAll:!1,hasType:!1,deviceList:[],dialogLoading:!1,current:1,size:10,total:0}},mounted:function(){this.getScreenSaver(),this.getQiniuToken()},methods:{getScreenSaver:function(){var e=this;i["a"].screenSavers(1,10).then((function(t){e.tableData=t.data,e.total=t.total}))},addScreenSaver:function(){var e=this;e.dialogScreen=!0,e.form.title="",e.form.remark="",e.form.images=[],e.screenSaverList=[],e.$refs.upload.clearFiles()},newScreenSaver:function(){var e=this;e.submitChanner?(e.$refs.upload.submit(),i["a"].screenSaver(e.form).then((function(t){e.$message.success("提交成功"),e.dialogScreen=!1,e.getScreenSaver(),e.$refs.upload.clearFiles(),e.form={title:"",remark:"",images:[]}}))):(console.log(e.form),e.form.images=[""],i["a"].screenSaver(e.form).then((function(t){e.$message.success("提交成功"),e.dialogScreen=!1,e.getScreenSaver(),e.form={title:"",remark:"",images:[]}})).catch((function(e){})))},getQiniuToken:function(){var e=this;o.a.get("https://api.fengniaotuangou.cn/api/upload/token").then((function(t){console.log(t.data.uptoken),e.imgData.token=t.data.uptoken}))},handleRemove:function(e,t){console.log(e,t),0==t.length&&(self.submitChanner=!1)},handleChange:function(e,t){var a=this;t.length>0&&(a.submitChanner=!0);for(var n=0;n<t.length;n++){if(console.log(t),"png"!==t[n].name.substring(t[n].name.lastIndexOf(".")+1))return a.$message.error("该图片类型错误,请上传后缀为png的图片"),t.pop(t[n]),!1;console.log(11,t[n].name)}},beforeAvatarUpload:function(e){var t=this;t.getQiniuToken(),t.fileName=l()(e.name),t.suffix=e.name.substring(e.name.lastIndexOf(".")+1),t.imgData.key="tmp_".concat(t.fileName,".").concat(t.suffix);var a=[];if(t.imgData.key){t.screenSaverList.push("".concat(t.qiniuaddr,"/").concat(t.imgData.key));for(var n=0;n<t.screenSaverList.length;n++)-1===a.indexOf(t.screenSaverList[n])&&"png"===t.screenSaverList[n].substring(t.screenSaverList[n].lastIndexOf(".")+1)&&a.push(t.screenSaverList[n]);t.form.images=a}},handleAvatarSuccess:function(e,t,a){console.log(111,e),console.log(222,a),this.getQiniuToken()},handleExceed:function(){var e=this;e.$message.error("上传图片不能超过5张")},sendScreen:function(e,t){var a=this;a.dialogSend=!0,a.sendForm={saver_id:"",type:"",addresses:[],devices:[],start:"",end:"",interval_time:"",start_time:""},a.sendForm.saver_id=t.id,console.log(this.sendForm.saver_id)},chooseTime:function(e){console.log(this.userAuthTime)},screenTimeChange:function(e){var t=this;t.sendForm.start=e[0],t.sendForm.end=e[1]},intervalTimeChange:function(e){var t=this;t.sendForm.interval_time=e},leaveTimeChange:function(e){var t=this;t.sendForm.start_time=e},typeChange:function(e){var t=this;console.log(t.sendForm.addresses),1===t.sendForm.type&&(t.addressList=[],t.project_id="",t.sendForm.addresses=[],t.hasAddress=!1,t.hasType=!1),3===t.sendForm.type&&(t.addressList=[],t.project_id="",t.sendForm.addresses=[],t.hasAddress=!1,t.hasType=!1,t.getProject()),2===t.sendForm.type&&(t.addressList=[],t.project_id="",t.sendForm.addresses=[],t.hasAddress=!1,t.hasType=!1,t.getProject())},getProject:function(){var e=this;i["a"].projects(1,1e5).then((function(t){e.projectList=t.data}))},changeProject:function(e){var t=this;t.sendForm.addresses=[],t.getAddress(e),t.hasAddress=!0},getAddress:function(e){var t=this;t.dialogLoading=!0,i["a"].addresses(1,1e5,e).then((function(e){for(var a=e.data,n=0;n<a.length;n++)t.addressList.push({key:a[n].id,label:a[n].address});return console.log(t.addressList),t.dialogLoading=!1,t.addressList})).catch((function(e){t.dialogLoading=!1}))},handleCheckAllAddress:function(e){var t=this;console.log(t.sendForm.addresses),3===t.sendForm.type&&(t.hasType=!0)},handleCheckeddirection:function(e){var t=this;t.getDevice(e)},getDevice:function(e){var t=this;t.dialogLoading=!0,i["a"]._devices(e,t.sendForm.addresses,1e7).then((function(e){t.deviceList=[];for(var a=e.data,n=0;n<a.length;n++)t.deviceList.push({key:a[n].id,label:a[n].uuid+a[n].remark});return console.log(t.deviceList),t.dialogLoading=!1,t.deviceList})).catch((function(e){t.dialogLoading=!1}))},newSend:function(){var e=this,t=this,a=t.sendForm.type;switch(a){case 1:var n={saver_id:t.sendForm.saver_id,type:1,start:t.sendForm.start,end:t.sendForm.end,interval_time:t.sendForm.interval_time,start_time:t.sendForm.start_time};console.log(n),i["a"].issueScreenSaver(n).then((function(a){t.$message.success("发布成功"),e.dialogSend=!1}));break;case 2:var r={saver_id:t.sendForm.saver_id,type:2,addresses:t.sendForm.addresses,start:t.sendForm.start,end:t.sendForm.end,interval_time:t.sendForm.interval_time,start_time:t.sendForm.start_time};console.log(r),i["a"].issueScreenSaver(r).then((function(a){t.$message.success("发布成功"),e.dialogSend=!1}));break;case 3:console.log(t.sendForm),i["a"].issueScreenSaver(t.sendForm).then((function(a){t.$message.success("发布成功"),e.dialogSend=!1}))}},handleDel:function(e,t){var a=this;console.log(t);var n=t.id;i["a"].delScreenSaver(n).then((function(e){a.$message.success("删除成功"),a.getScreenSaver(),a.current=1})).catch((function(e){a.loading=!1}))},currentChange:function(e){var t=this;t.loading=!0,t.current=e,i["a"].screenSavers(e,t.size).then((function(e){t.loading=!1,t.tableData=e.data,t.total=e.total})).catch((function(e){t.loading=!1}))},sizeChange:function(e){var t=this;t.loading=!0,t.size=e,i["a"].screenSavers(t.current,e).then((function(e){t.loading=!1,t.tableData=e.data,t.total=e.total})).catch((function(e){t.loading=!1}))}}},u=d,m=a("2877"),f=Object(m["a"])(u,n,r,!1,null,null,null);t["default"]=f.exports},baa5:function(e,t,a){var n=a("23e7"),r=a("e58c");n({target:"Array",proto:!0,forced:r!==[].lastIndexOf},{lastIndexOf:r})},c975:function(e,t,a){"use strict";var n=a("23e7"),r=a("4d64").indexOf,i=a("a640"),s=a("ae40"),o=[].indexOf,c=!!o&&1/[1].indexOf(1,-0)<0,l=i("indexOf"),d=s("indexOf",{ACCESSORS:!0,1:0});n({target:"Array",proto:!0,forced:c||!l||!d},{indexOf:function(e){return c?o.apply(this,arguments)||0:r(this,e,arguments.length>1?arguments[1]:void 0)}})},e58c:function(e,t,a){"use strict";var n=a("fc6a"),r=a("a691"),i=a("50c4"),s=a("a640"),o=a("ae40"),c=Math.min,l=[].lastIndexOf,d=!!l&&1/[1].lastIndexOf(1,-0)<0,u=s("lastIndexOf"),m=o("indexOf",{ACCESSORS:!0,1:0}),f=d||!u||!m;e.exports=f?function(e){if(d)return l.apply(this,arguments)||0;var t=n(this),a=i(t.length),s=a-1;for(arguments.length>1&&(s=c(s,r(arguments[1]))),s<0&&(s=a+s);s>=0;s--)if(s in t&&t[s]===e)return s||0;return-1}:l}}]);
//# sourceMappingURL=chunk-0ac2063e.1608259141581.js.map